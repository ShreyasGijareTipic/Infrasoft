import{r as x,b as C,u as j,j as e}from"./index-C2yVeD7S.js";import{p as g}from"./api-CIBCEetx.js";import{C as _,a as f}from"./CCardBody-D-jAy6vr.js";import{C as N}from"./CCardHeader-6bNqU1xa.js";import{C as y}from"./CForm-9WpppnGX.js";import{a as m,b as n}from"./index.esm-BfesGHR4.js";import{C as s}from"./CFormInput-CXoXZ5N_.js";import{C as v}from"./CFormTextarea-CPboTIMv.js";import{C as u}from"./CButton-pXUvGqWL.js";import"./CFormControlWrapper-D7XNeBGJ.js";import"./CFormLabel-eLpXnSYX.js";const D=()=>{const[a,h]=x.useState({type:"3",name:"",mobile:"",address:"",gst_no:"",bank_name:"",account_number:"",ifsc_code:"",adhar_number:"",pan_number:"",show:!0,project_id:"0",payment:"0"}),{showToast:t}=C(),c=j(),r=l=>{const{name:o,value:d}=l.target;let i=d;["gst_no","ifsc_code","pan_number"].includes(o)&&(i=d.toUpperCase()),!(["mobile","adhar_number","account_number"].includes(o)&&!/^\d*$/.test(d))&&h(b=>({...b,[o]:i}))},p=async l=>{if(l.preventDefault(),!a.name.trim())return t("danger","Name required");if(a.mobile.length!==10)return t("danger","Mobile must be 10 digits");if(!a.address.trim())return t("danger","Address required");if(!a.gst_no.trim())return t("danger","GST required");const o={...a,project_id:a.type==="1"||a.type==="2"||a.type==="3"?"0":a.project_id,payment:a.type==="2"||a.type==="3"?"0":a.payment};try{await g("/api/operators",o),t("success","Purches Vendor Created"),c("/displayPurchesVendors")}catch{t("danger","Failed to create vendor")}};return e.jsxs(_,{children:[e.jsx(N,{children:e.jsx("strong",{children:"Create Purches Vendor"})}),e.jsx(f,{children:e.jsxs(y,{onSubmit:p,children:[e.jsxs(m,{children:[e.jsx(n,{md:6,children:e.jsx(s,{label:"Name *",placeholder:"Enter Name",name:"name",value:a.name,onChange:r})}),e.jsx(n,{md:6,children:e.jsx(s,{maxLength:10,label:"Mobile *",placeholder:"Enter Mobile Number",name:"mobile",value:a.mobile,onChange:r})})]}),e.jsx(m,{className:"mt-3",children:e.jsx(n,{md:12,children:e.jsx(v,{label:"Address *",name:"address",placeholder:"Enter Address",value:a.address,onChange:r})})}),e.jsxs(m,{className:"mt-3",children:[e.jsx(n,{md:6,children:e.jsx(s,{label:"GST Number *",placeholder:"Enter GST Number",maxLength:15,name:"gst_no",value:a.gst_no,onChange:r})}),e.jsx(n,{md:6,children:e.jsx(s,{label:"Aadhar Number",placeholder:"Enter Aadhaar Number",maxLength:12,name:"adhar_number",value:a.adhar_number,onChange:r})})]}),e.jsxs(m,{className:"mt-3",children:[e.jsx(n,{md:6,children:e.jsx(s,{label:"Bank Name",placeholder:"Enter Bank Name",name:"bank_name",value:a.bank_name,onChange:r})}),e.jsx(n,{md:6,children:e.jsx(s,{label:"Account Number",placeholder:"Enter Account Number",name:"account_number",value:a.account_number,onChange:r})})]}),e.jsxs(m,{className:"mt-3",children:[e.jsx(n,{md:6,children:e.jsx(s,{label:"IFSC Code",name:"ifsc_code",placeholder:"Enter IFSC Code",value:a.ifsc_code,onChange:r})}),e.jsx(n,{md:6,children:e.jsx(s,{label:"PAN Number",name:"pan_number",placeholder:"Enter PAN Number",value:a.pan_number,onChange:r})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{type:"submit",color:"primary",children:"Create Purches Vendor"}),e.jsx(u,{onClick:()=>c("/displayPurchesVendors"),color:"secondary",className:"ms-3",children:"Close"})]})]})})]})};export{D as default};
