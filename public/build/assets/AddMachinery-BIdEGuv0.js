import{r as s,u as N,b as S,j as e}from"./index-C2yVeD7S.js";import{f as w}from"./api-CIBCEetx.js";import{C as M,a as R}from"./CCardBody-D-jAy6vr.js";import{C as E}from"./CCardHeader-6bNqU1xa.js";import{C as j}from"./cil-mobile-YEmBCbC2.js";import{C as F}from"./CForm-9WpppnGX.js";import{a as O,b as t}from"./index.esm-BfesGHR4.js";import{C as g}from"./CFormInput-CXoXZ5N_.js";import{C as T}from"./CFormLabel-eLpXnSYX.js";import{C as A}from"./CFormSelect-Cs5qoCpd.js";import{C as b}from"./CButton-pXUvGqWL.js";import"./CFormControlWrapper-D7XNeBGJ.js";function K({onSuccess:n}){const[o,i]=s.useState(""),[c,l]=s.useState(""),[m,f]=s.useState(""),[h,u]=s.useState(""),d=N(),[p,C]=s.useState(""),{showToast:x}=S(),y=async r=>{r.preventDefault(),f(""),u("");try{const a=await w("/api/machineries",{machine_name:o,reg_number:c,ownership_type:p});u(a.data.message),i(""),l(""),C(""),x("success","Machine Add Successfully"),d("/MachineriesTable"),n&&n()}catch(a){console.error("Error saving machinery:",a),x("Danger","Failed to save machinery")}},v=async()=>{d("/MachineriesTable")};return e.jsxs(M,{className:"mb-4",children:[e.jsx(E,{children:e.jsx("strong",{children:"Add New Machinery"})}),e.jsxs(R,{children:[m&&e.jsx(j,{color:"danger",children:m}),h&&e.jsx(j,{color:"success",children:h}),e.jsxs(F,{onSubmit:y,children:[e.jsxs(O,{className:"mb-3",children:[e.jsx(t,{md:4,children:e.jsx(g,{label:"Machine Name",placeholder:"Enter Machine Name",type:"text",value:o,onChange:r=>i(r.target.value),required:!0})}),e.jsx(t,{md:4,children:e.jsx(g,{label:"Registration Number",placeholder:"Enter Registration Number",type:"text",value:c,onChange:r=>l(r.target.value),required:!0})}),e.jsxs(t,{md:4,children:[e.jsx(T,{children:"Ownership Type"}),e.jsxs(A,{value:p,onChange:r=>C(r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Select Option --"}),e.jsx("option",{value:"Own",children:"Own"}),e.jsx("option",{value:"Rent",children:"Rent"})]})]})]}),e.jsx(b,{type:"submit",color:"primary",children:"Save Machinery"}),"    ",e.jsx(b,{onClick:v,color:"secondary",children:"Close"})]})]})]})}export{K as default};
