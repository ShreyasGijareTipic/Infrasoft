import{r as s,u as L,j as e}from"./index-2dn3aAPo.js";import{C as U,a as v,b as V,c as t}from"./index.esm-BqU7uZM5.js";import{i as A,r as B,s as D}from"./api-CIBCEetx.js";import{C as F,a as G}from"./CCardBody-HQDdpy5u.js";import{C as T}from"./CForm-BXgIXJvs.js";import{C as r}from"./CInputGroup-BlJhRiG_.js";import{C as a}from"./CInputGroupText-BaanX0VJ.js";import{c as _}from"./RawMaterial-BtjEDAbB.js";import{C as o}from"./CFormInput-DgsDA3z5.js";import{c as z,a as w,C as H}from"./cil-mobile-Mmz4KEyA.js";import{C as J}from"./CButton-BUp8JCLl.js";import"./CFormControlWrapper-DrysVgi4.js";import"./CFormLabel-DZUJOBB2.js";const te=()=>{const[l,g]=s.useState(),[R,y]=s.useState(!1),n=L(),d=s.useRef(),m=s.useRef(),p=s.useRef(),u=s.useRef(),f=s.useRef();s.useEffect(()=>{A()&&n("/")},[]);const N=async c=>{var x,j,h,C,b;const I=c.currentTarget;if(c.preventDefault(),c.stopPropagation(),y(!0),I.checkValidity()!==!0)return;const P=(x=d.current)==null?void 0:x.value,k=(j=m.current)==null?void 0:j.value,q=(h=p.current)==null?void 0:h.value,E=0,M=(C=u.current)==null?void 0:C.value,S=(b=f.current)==null?void 0:b.value;try{const i=await B({name:P,email:k,mobile:q,type:E,password:M,password_confirmation:S});D(i),n("/")}catch(i){g(i.message??"Please provide valid data")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(U,{children:e.jsx(v,{className:"justify-content-center",children:e.jsx(V,{md:9,lg:7,xl:6,children:e.jsx(F,{className:"mx-4",children:e.jsx(G,{className:"p-4",children:e.jsxs(T,{noValidate:!0,validated:R,onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:_})}),e.jsx(o,{ref:d,placeholder:"Username",autoComplete:"name",required:!0,feedbackInvalid:"Please provide name."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:"@"}),e.jsx(o,{ref:m,placeholder:"Email",autoComplete:"email",required:!0,feedbackInvalid:"Please provide email."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:z})}),e.jsx(o,{ref:p,placeholder:"Mobile",autoComplete:"phone",required:!0,feedbackInvalid:"Please provide mobile number."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:w})}),e.jsx(o,{type:"password",ref:u,placeholder:"Password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide password."})]}),e.jsxs(r,{className:"mb-4",children:[e.jsx(a,{children:e.jsx(t,{icon:w})}),e.jsx(o,{ref:f,type:"password",placeholder:"Repeat password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide confirm password."})]}),l&&e.jsx(v,{children:e.jsx(H,{color:"danger",children:l})}),e.jsx("div",{className:"d-grid",children:e.jsx(J,{color:"success",type:"submit",children:"Create Account"})})]})})})})})})})};export{te as default};
