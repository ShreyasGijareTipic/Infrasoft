import{r as l,u as ze,b as Qe,j as e,C as ye}from"./index-2dn3aAPo.js";/* empty css                */import{a as j,b as m,c as C}from"./index.esm-BqU7uZM5.js";import{a as Ve,p as Ce}from"./api-CIBCEetx.js";import{P as Be}from"./ProjectSelectionModal-ClSiYrmp.js";import{u as $e,C as ve,a as He,b as Ye,c as Ze,d as Xe,e as Je}from"./DefaultLayout-iLQNBb61.js";import{C as Ke,a as De}from"./CCardBody-HQDdpy5u.js";import{C as es}from"./CCardHeader-CSgV6VVv.js";import{C as we}from"./CForm-BXgIXJvs.js";import{C as u}from"./CFormLabel-DZUJOBB2.js";import{C as _}from"./CInputGroup-BlJhRiG_.js";import{C as i}from"./CFormInput-DgsDA3z5.js";import{C as Q}from"./CInputGroupText-BaanX0VJ.js";import{c as ee}from"./cil-x-0440B5Ce.js";import{c as ss}from"./cil-search-CDkY_4k-.js";import{c as Ne}from"./cil-plus-D8mtC-W5.js";import{C as ts}from"./CFormSelect-B9c0-O3a.js";import{C as g}from"./CButton-BUp8JCLl.js";import{c as Pe}from"./cil-pencil-m516yCOw.js";import{C as rs}from"./CFormTextarea-BuvJZLbz.js";import"./CTable-CvasYDPA.js";import"./RawMaterial-BtjEDAbB.js";import"./cil-mobile-Mmz4KEyA.js";import"./CFormControlWrapper-DrysVgi4.js";const Ss=({editMode:v=!1,initialData:c=null,onSubmit:se=null})=>{const[Ae,Se]=l.useState(!1),[te,re]=l.useState(!1),[V,oe]=l.useState(!0);l.useState();const ne=ze();$e();const{showToast:x}=Qe(),[ke,ae]=l.useState(!1),[B,w]=l.useState([]),[p,G]=l.useState(""),[O,b]=l.useState(!1),[$,S]=l.useState([]),[ce,le]=l.useState(!1),H=l.useRef(null),Y=l.useRef(null),[a,k]=l.useState({projectId:null,projectName:"",customer_id:null,customer_name:"",address:"",mobile_number:"",customer:{name:"",address:"",mobile:""},invoiceType:1,invoiceDate:new Date().toISOString().split("T")[0],deliveryDate:new Date().toISOString().split("T")[0],discount:0,paidAmount:0,subtotal:0,taxableAmount:0,gstAmount:0,sgstAmount:0,cgstAmount:0,igstAmount:0,finalAmount:0,gstPercentage:0,sgstPercentage:0,cgstPercentage:0,igstPercentage:0,ref_id:"",po_number:"",gstOnGstMode:!1}),[f,W]=l.useState([{work_type:"",uom:"",qty:0,price:0,total_price:0,gst_percent:18,cgst_amount:9,sgst_amount:9,remark:""}]),[Te,T]=l.useState(!1),[y,me]=l.useState({customer_name:"",mobile_number:"",project_name:"",work_place:""}),ie=["25% Advance release on team mobilization onsite.","25% Release on completion of pile foundation.","20% Release after completion of MMS and Module mounting.","20% to be released on completion of AC/DC.","10% released after work has been completed and handed over to the client."],[I,U]=l.useState(ie),[Ie,Z]=l.useState(-1),[de,ue]=l.useState(""),[X,he]=l.useState(""),pe=["18% Tax Extra","ROW on your side","Work will commence only after receiving an official work order"],[F,z]=l.useState(pe),[Fe,J]=l.useState(-1),[je,ge]=l.useState(""),[K,xe]=l.useState(""),[be,fe]=l.useState(""),Ee=()=>Math.max(0,a.finalAmount-a.paidAmount),E=l.useCallback(async(s="")=>{oe(!0);try{const t=s?`/api/projects?searchQuery=${encodeURIComponent(s)}`:"/api/projects",r=await Ve(t);console.log("Fetched projects (raw):",r);const o=Array.isArray(r)?r:r==null?void 0:r.data;if(!o||!Array.isArray(o)){console.log("Invalid API response - no data array"),w([]),s||x("warning","No projects data available from server");return}const d=o.map(n=>({id:n.id,project_name:n.project_name||"Unknown Project",customer_name:n.customer_name||"Unknown Customer",work_place:n.work_place||"",project_cost:n.project_cost||"0",mobile_number:n.mobile_number||"",gst_number:n.gst_number||"",remark:n.remark||"",customer_id:n.customer_id||n.id,customer:{name:n.customer_name||"Unknown",address:n.work_place||"N/A",mobile:n.mobile_number||"N/A"},start_date:n.start_date,end_date:n.end_date})).filter(n=>n.project_name&&n.customer_id);console.log("Transformed projects:",d),w(d),d.length===0&&!s&&x("warning","No valid projects found - check API data")}catch(t){console.error("Error fetching projects:",t),w([]),s||x("danger","Failed to fetch projects")}finally{oe(!1)}},[]);l.useEffect(()=>{var s,t,r;v&&c&&(k({projectId:c.projectId,projectName:c.projectName,customer_id:c.customer_id,customer_name:((s=c.customer)==null?void 0:s.name)||"",address:((t=c.customer)==null?void 0:t.address)||"",mobile_number:((r=c.customer)==null?void 0:r.mobile)||"",customer:c.customer,invoiceType:c.invoiceType,invoiceDate:c.invoiceDate,deliveryDate:c.deliveryDate||new Date().toISOString().split("T")[0],discount:c.discount||0,paidAmount:c.paidAmount||0,subtotal:c.subtotal||0,taxableAmount:c.taxableAmount||0,gstAmount:c.gstAmount||0,sgstAmount:c.sgstAmount||0,cgstAmount:c.cgstAmount||0,igstAmount:c.igstAmount||0,finalAmount:c.finalAmount||0,gstPercentage:c.gstPercentage??0,sgstPercentage:c.sgstPercentage??0,cgstPercentage:c.cgstPercentage??0,igstPercentage:c.igstPercentage??0,ref_id:c.ref_id,po_number:c.po_number||""}),W(c.items||[{work_type:"",uom:"",qty:0,price:0,total_price:0,remark:""}]),G(c.projectName||""),D(c.items||f),U(c.payment_terms?c.payment_terms.split(`
`):ie),z(c.terms_and_conditions?c.terms_and_conditions.split(`
`):pe),fe(c.note||""))},[v,c]),l.useEffect(()=>{E()},[E]),l.useEffect(()=>{const s=setTimeout(()=>{p&&p.length>2&&!ce&&!a.projectId?E(p):(w([]),S([]),b(!1)),le(!1)},300);return()=>clearTimeout(s)},[p,E,ce,a.projectId]),l.useEffect(()=>{if(p&&B.length>0&&!a.projectId){const s=p.toLowerCase(),t=B.filter(r=>r.project_name&&r.project_name.toLowerCase().includes(s)||r.customer_name&&r.customer_name.toLowerCase().includes(s)||r.work_place&&r.work_place.toLowerCase().includes(s)||r.mobile_number&&r.mobile_number.includes(s)||r.remark&&r.remark.toLowerCase().includes(s));console.log("Filtered projects:",t,"Query:",p),S(t),b(t.length>0&&p.length>2&&!a.projectId)}else S([]),b(!1)},[p,B,a.projectId]),l.useEffect(()=>{const s=t=>{H.current&&!H.current.contains(t.target)&&Y.current&&!Y.current.contains(t.target)&&b(!1)};return O&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[O]);const _e=s=>{console.log("Selected project:",s),k(t=>{var r,o,d,n;return{...t,projectId:s.id,projectName:s.project_name,customer_id:s.customer_id||s.id,customer_name:s.customer_name||((r=s.customer)==null?void 0:r.name)||"",address:s.work_place||s.location||"",mobile_number:s.mobile_number||((o=s.customer)==null?void 0:o.mobile)||"",customer:{name:s.customer_name||((d=s.customer)==null?void 0:d.name)||"",address:s.work_place||s.location||"",mobile:s.mobile_number||((n=s.customer)==null?void 0:n.mobile)||""}}}),G(s.project_name),le(!0),b(!1),w([]),S([])},Le=()=>{k(s=>({...s,projectId:null,projectName:"",customer_id:null,customer_name:"",address:"",mobile_number:"",customer:{name:"",address:"",mobile:""}})),G(""),b(!1),w([]),S([])},L=s=>{const{name:t,value:r}=s.target;k(o=>{let d={...o,[t]:t==="discount"||t==="paidAmount"||t.endsWith("Percentage")?parseFloat(r)||0:r};if(t==="gstPercentage"){const h=(parseFloat(r)||0)/2;d={...d,sgstPercentage:h,cgstPercentage:h}}else if(t==="sgstPercentage"||t==="cgstPercentage"){const n=t==="sgstPercentage"?parseFloat(r)||0:o.sgstPercentage,h=t==="cgstPercentage"?parseFloat(r)||0:o.cgstPercentage;d={...d,gstPercentage:n+h}}if(t==="discount"||t.endsWith("Percentage")){const n=f.reduce((We,Ue)=>We+(Ue.total_price||0),0),h=n-d.discount,A=h*(d.sgstPercentage/100),q=h*(d.cgstPercentage/100),R=h*(d.igstPercentage/100),M=A+q+R,Oe=h+M;d={...d,subtotal:n,taxableAmount:h,gstAmount:M,sgstAmount:A,cgstAmount:q,igstAmount:R,finalAmount:Oe}}return d})},N=(s,t,r)=>{const o=[...f];t==="qty"||t==="price"?o[s][t]=r===""?0:parseFloat(r)||0:t==="gst_percent"?o[s].gst_percent=r===""||r===null||r===void 0?0:parseFloat(r)||0:o[s][t]=r;const d=o[s].qty||0,n=o[s].price||0,h=o[s].gst_percent??0,A=d*n,q=h/2,R=A*(q/100),M=A*(q/100);o[s].cgst_amount=R,o[s].sgst_amount=M,o[s].total_price=A+R+M,W(o),D(o)},qe=()=>{W([...f,{work_type:"",uom:"",qty:0,price:0,total_price:0,gst_percent:18,cgst_amount:9,sgst_amount:9,remark:""}])},Re=s=>{const t=[...f];t.splice(s,1),W(t),D(t)},D=s=>{k(t=>{const r=s.reduce((n,h)=>n+h.qty*h.price,0);s.reduce((n,h)=>n+(h.cgst_amount||0),0),s.reduce((n,h)=>n+(h.sgst_amount||0),0);const o=s.reduce((n,h)=>n+(h.total_price||0),0),d=o-(t.discount||0);return{...t,subtotal:r,taxableAmount:o,gstAmount:0,cgstAmount:0,sgstAmount:0,igstAmount:0,finalAmount:d}})},Me=async s=>{if(s.preventDefault(),!s.currentTarget.checkValidity()){Se(!0);return}if(!a.projectId||!a.customer_id){x("danger","Please select a project with a valid customer");return}try{re(!0);const r={...a,project_id:a.projectId,customer_name:a.customer_name,address:a.address,mobile_number:a.mobile_number,items:f.filter(o=>o.work_type&&o.qty>0),payment_terms:I.join(`
`),terms_and_conditions:F.join(`
`),note:be};if(console.log("Submitting data:",r),v&&se)await se(r);else{const o=await Ce("/api/order",r);o&&(x("success","Invoice created successfully"),ne(`/invoice-details/${o.id}`))}}catch(r){console.error("Submit error:",r),x("danger","Failed to create invoice")}finally{re(!1)}},P=s=>{const{name:t,value:r}=s.target;me(o=>({...o,[t]:r}))},Ge=async()=>{try{await Ce("/api/projects",y)&&(x("success","Project added successfully"),T(!1),me({customer_name:"",mobile_number:"",project_name:"",work_place:"",is_confirm:0}),E())}catch(s){console.error("Error adding project:",s),x("danger","Failed to add project")}};return e.jsxs(j,{children:[e.jsx(m,{xs:12,children:e.jsxs(Ke,{className:"mb-4",children:[e.jsx(es,{children:e.jsx("strong",{children:v?"Edit Invoice":"Create Invoice"})}),e.jsx(De,{children:e.jsxs(we,{validated:Ae,onSubmit:Me,children:[e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Project Name *"}),e.jsxs("div",{ref:H,style:{position:"relative"},children:[e.jsxs(_,{children:[e.jsx(i,{type:"text",value:p,onChange:s=>{G(s.target.value),a.projectId?b(!1):b(s.target.value.length>2)},placeholder:"Search by project name, customer, location...",required:!0}),e.jsx(Q,{className:"cursor-pointer",onClick:()=>{a.projectName||p?Le():ae(!0)},children:e.jsx(C,{icon:a.projectName||p?ee:ss})})]}),V&&O&&p.length>2&&e.jsxs("div",{className:"dropdown-menu show p-2",children:[e.jsx(ye,{size:"sm"})," Loading projects..."]}),O&&$.length>0&&!a.projectId&&e.jsxs("div",{ref:Y,className:"dropdown-menu show",style:{maxHeight:"300px",overflowY:"auto"},children:[$.map(s=>e.jsxs("div",{className:"dropdown-item cursor-pointer p-2 border-bottom",onClick:()=>_e(s),onMouseEnter:t=>t.target.style.backgroundColor="#f8f9fa",onMouseLeave:t=>t.target.style.backgroundColor="white",children:[e.jsx("div",{className:"fw-medium text-primary",children:s.project_name}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("strong",{children:"Customer:"})," ",s.customer_name]}),s.work_place&&e.jsxs("div",{className:"small text-muted",children:[e.jsx("strong",{children:"Location:"})," ",s.work_place]}),s.project_cost&&e.jsxs("div",{className:"small text-success",children:[e.jsx("strong",{children:"Amount:"})," ₹",s.project_cost]}),s.mobile_number&&e.jsxs("div",{className:"small text-muted",children:[e.jsx("strong",{children:"Mobile:"})," ",s.mobile_number]})]},s.id)),!a.projectId&&e.jsxs("div",{className:"dropdown-item cursor-pointer p-2 border-top text-primary",onClick:()=>T(!0),children:[e.jsx(C,{icon:Ne,className:"me-2"}),"Add New Project"]})]}),p.length>2&&$.length===0&&!V&&!a.projectId&&e.jsx("div",{className:"dropdown-menu show",style:{maxHeight:"300px",overflowY:"auto"},children:e.jsxs("div",{className:"dropdown-item cursor-pointer p-2 border-top text-primary",onClick:()=>T(!0),children:[e.jsx(C,{icon:Ne,className:"me-2"}),"Add New Project"]})})]}),a.projectName&&e.jsxs("div",{className:"mt-1 p-2 bg-light rounded border",children:[e.jsxs("div",{className:"small text-success",children:[e.jsx("strong",{children:"Selected:"})," ",a.projectName]}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("strong",{children:"Customer:"})," ",a.customer.name]}),a.customer.address&&e.jsxs("div",{className:"small text-muted",children:[e.jsx("strong",{children:"Location:"})," ",a.customer.address]})]})]}),e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Invoice Date *"}),e.jsx(i,{type:"date",name:"invoiceDate",value:a.invoiceDate,onChange:L,required:!0})]})]}),e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:4,children:[e.jsx(u,{children:"Delivery Date *"}),e.jsx(i,{type:"date",name:"deliveryDate",value:a.deliveryDate,onChange:L,required:!0})]}),e.jsxs(m,{md:4,children:[e.jsx(u,{children:"Reference ID"}),e.jsx(i,{type:"text",name:"ref_id",value:a.ref_id,onChange:L,placeholder:"Enter Reference ID"})]}),e.jsxs(m,{md:4,children:[e.jsx(u,{children:"Po Number"}),e.jsx(i,{type:"text",name:"po_number",value:a.po_number,onChange:L,placeholder:"Enter PO Number"})]})]}),e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:4,children:[e.jsx(u,{children:"Customer Name"}),e.jsx(i,{value:a.customer.name,readOnly:!0,placeholder:"Select a project to populate"})]}),e.jsxs(m,{md:4,children:[e.jsx(u,{children:"Work Location"}),e.jsx(i,{value:a.customer.address,readOnly:!0,placeholder:"Select a project to populate"})]}),e.jsxs(m,{md:4,children:[e.jsx(u,{children:"Customer Mobile"}),e.jsx(i,{value:a.customer.mobile,readOnly:!0,placeholder:"Select a project to populate"})]})]}),e.jsx(j,{className:"mb-3",children:e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Invoice Type *"}),e.jsxs(ts,{name:"invoiceType",value:a.invoiceType,onChange:L,required:!0,children:[e.jsx("option",{value:1,children:"Quotation"}),e.jsx("option",{value:2,children:"Work Order"})]})]})}),e.jsx("h6",{className:"mt-4 mb-3 fw-semibold text-primary border-bottom border-primary pb-2",children:"Work Details"}),f.map((s,t)=>e.jsxs("div",{className:"border rounded p-3 mb-3 bg-light",children:[e.jsxs(j,{className:"g-3 mb-2 align-items-end",children:[e.jsx(m,{md:3,children:e.jsx(i,{label:"Work Type *",placeholder:"Work Type",value:s.work_type,onChange:r=>N(t,"work_type",r.target.value),required:!0})}),e.jsx(m,{md:2,children:e.jsx(i,{label:"Unit",placeholder:"UOM",value:s.uom,onChange:r=>N(t,"uom",r.target.value)})}),e.jsx(m,{md:2,children:e.jsx(i,{label:"Qty *",type:"number",step:"0.01",min:"0",value:s.qty,onChange:r=>N(t,"qty",r.target.value),required:!0})}),e.jsxs(m,{md:2,children:[e.jsx(u,{children:"Rate *"}),e.jsxs(_,{children:[e.jsx(Q,{children:"₹"}),e.jsx(i,{type:"number",step:"0.01",min:"0",value:s.price,onChange:r=>N(t,"price",r.target.value),required:!0})]})]}),e.jsxs(m,{md:2,children:[e.jsx(u,{children:"Base Amount"}),e.jsxs("div",{className:"fw-medium",children:["₹",(s.qty*s.price).toFixed(2)]})]}),e.jsx(m,{md:1,className:"d-flex align-items-end",children:e.jsx(g,{color:"danger",size:"sm",onClick:()=>Re(t),disabled:f.length===1,children:"×"})})]}),e.jsxs(j,{className:"g-3 align-items-end",children:[e.jsx(m,{md:2,children:e.jsx(i,{label:"GST %",type:"number",step:"0.01",min:"0",max:"100",value:s.gst_percent,onChange:r=>N(t,"gst_percent",r.target.value)})}),e.jsxs(m,{md:2,children:[e.jsx(u,{children:"CGST"}),e.jsxs("div",{className:"text-success fw-medium",children:["₹",s.cgst_amount.toFixed(2)]})]}),e.jsxs(m,{md:2,children:[e.jsx(u,{children:"SGST"}),e.jsxs("div",{className:"text-success fw-medium",children:["₹",s.sgst_amount.toFixed(2)]})]}),e.jsxs(m,{md:2,children:[e.jsx(u,{className:"text-primary",children:"Total (with GST)"}),e.jsxs("div",{className:"fw-bold text-primary",children:["₹",s.total_price.toFixed(2)]})]}),e.jsx(m,{md:4,children:e.jsx(i,{label:"Remark",placeholder:"Optional",value:s.remark,onChange:r=>N(t,"remark",r.target.value)})})]})]},t)),e.jsx(g,{color:"warning",variant:"outline",className:"mb-4",onClick:qe,children:"+ Add Work"}),e.jsx("div",{className:"alert alert-info border-0 bg-info-subtle mb-3",children:e.jsx("div",{className:"d-flex",children:e.jsxs("div",{children:[e.jsx("strong",{className:"text-info",children:"Auto-Calculation:"}),e.jsx("ul",{className:"mb-0 mt-1 text-info",children:e.jsx("li",{children:e.jsx("small",{children:"Enter GST % to work row for auto-split into CGST and SGST"})})})]})})}),e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Final Amount"}),e.jsxs(_,{children:[e.jsx(Q,{children:"₹"}),e.jsx(i,{type:"number",value:Number(a.finalAmount||0).toFixed(2),readOnly:!0})]})]}),e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Remaining Amount"}),e.jsxs(_,{children:[e.jsx(Q,{children:"₹"}),e.jsx(i,{type:"number",value:Number(Ee()||0).toFixed(2),readOnly:!0,className:"text-danger fw-medium"})]})]})]}),e.jsx("h6",{className:"mt-4 mb-3 fw-semibold text-primary border-bottom border-primary pb-2",children:"Payment Terms"}),e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:I.map((s,t)=>Ie===t?e.jsxs(_,{style:{width:"auto"},children:[e.jsx(i,{value:de,onChange:r=>ue(r.target.value)}),e.jsx(g,{color:"success",onClick:()=>{const r=[...I];r[t]=de,U(r),Z(-1)},children:"Save"}),e.jsx(g,{color:"secondary",onClick:()=>Z(-1),children:"Cancel"})]},t):e.jsxs(ve,{color:"info",className:"me-1 mb-1",style:{fontSize:"0.9em"},children:[s,e.jsx(C,{icon:Pe,className:"ms-2",style:{cursor:"pointer"},onClick:()=>{Z(t),ue(s)}}),e.jsx(C,{icon:ee,className:"ms-1",style:{cursor:"pointer"},onClick:()=>{U(I.filter((r,o)=>o!==t))}})]},t))}),e.jsx(j,{className:"mb-3",children:e.jsx(m,{md:6,children:e.jsxs(_,{children:[e.jsx(i,{placeholder:"Add new payment term...",value:X,onChange:s=>he(s.target.value)}),e.jsx(g,{color:"primary",onClick:()=>{X.trim()&&(U([...I,X.trim()]),he(""))},children:"Add"})]})})}),e.jsx("h6",{className:"mt-4 mb-3 fw-semibold text-primary border-bottom border-primary pb-2",children:"Terms & Conditions"}),e.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:F.map((s,t)=>Fe===t?e.jsxs(_,{style:{width:"auto"},children:[e.jsx(i,{value:je,onChange:r=>ge(r.target.value)}),e.jsx(g,{color:"success",onClick:()=>{const r=[...F];r[t]=je,z(r),J(-1)},children:"Save"}),e.jsx(g,{color:"secondary",onClick:()=>J(-1),children:"Cancel"})]},t):e.jsxs(ve,{color:"warning",className:"me-1 mb-1",style:{fontSize:"0.9em"},children:[s,e.jsx(C,{icon:Pe,className:"ms-2",style:{cursor:"pointer"},onClick:()=>{J(t),ge(s)}}),e.jsx(C,{icon:ee,className:"ms-1",style:{cursor:"pointer"},onClick:()=>{z(F.filter((r,o)=>o!==t))}})]},t))}),e.jsx(j,{className:"mb-3",children:e.jsx(m,{md:6,children:e.jsxs(_,{children:[e.jsx(i,{placeholder:"Add new condition...",value:K,onChange:s=>xe(s.target.value)}),e.jsx(g,{color:"primary",onClick:()=>{K.trim()&&(z([...F,K.trim()]),xe(""))},children:"Add"})]})})}),e.jsx("h6",{className:"mt-4 mb-2 fw-semibold text-primary border-bottom border-primary pb-2",children:"Additional Note"}),e.jsx(rs,{type:"text",className:"mb-3",placeholder:"Enter note if any...",value:be,onChange:s=>fe(s.target.value)}),e.jsx(g,{color:"primary",type:"submit",disabled:te||!a.projectId||!a.customer_id||V,children:te?e.jsx(ye,{size:"sm"}):v?"Update Invoice":"Submit Invoice"}),"  ",v&&e.jsx(g,{color:"secondary",type:"button",onClick:()=>ne("/invoiceTable"),children:"Close"})]})})]})}),e.jsxs(He,{visible:Te,onClose:()=>T(!1),children:[e.jsx(Ye,{children:e.jsx(Ze,{children:"Add New Project"})}),e.jsx(Xe,{children:e.jsxs(we,{children:[e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Customer Name *"}),e.jsx(i,{type:"text",name:"customer_name",value:y.customer_name,onChange:P,required:!0,maxLength:255})]}),e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Mobile Number *"}),e.jsx(i,{type:"text",name:"mobile_number",value:y.mobile_number,onChange:P,required:!0,maxLength:10,minLength:10,pattern:"^[0-9]{10}$",placeholder:"Enter 10-digit mobile number"})]})]}),e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Project Name *"}),e.jsx(i,{type:"text",name:"project_name",value:y.project_name,onChange:P,required:!0,maxLength:255})]}),e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Work Place"}),e.jsx(i,{type:"text",name:"work_place",value:y.work_place,onChange:P,maxLength:255})]})]}),e.jsxs(j,{className:"mb-3",children:[e.jsxs(m,{md:6,children:[e.jsx(u,{children:"GST number"}),e.jsx(i,{type:"text",name:"gst_number",value:y.gst_number,onChange:s=>{const t=s.target.value.toUpperCase();/^[A-Z0-9]{0,15}$/.test(t)&&P({target:{name:"gst_number",value:t}})},required:!0,maxLength:15,minLength:15,placeholder:"Enter GST number (15 chars)"})]}),e.jsxs(m,{md:6,children:[e.jsx(u,{children:"Pan Card number"}),e.jsx(i,{type:"text",name:"pan_number",value:y.pan_number,onChange:s=>{const t=s.target.value.toUpperCase();/^[A-Z0-9]{0,10}$/.test(t)&&P({target:{name:"pan_number",value:t}})},required:!0,maxLength:10,minLength:10,placeholder:"Enter PAN number (10 chars)"})]})]})]})}),e.jsxs(Je,{children:[e.jsx(g,{color:"secondary",onClick:()=>T(!1),children:"Close"}),e.jsx(g,{color:"primary",onClick:Ge,children:"Save"})]})]}),e.jsx(Be,{visible:ke,onClose:()=>ae(!1),onSelectProject:_e})]})};export{Ss as default};
