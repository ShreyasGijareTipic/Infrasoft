import{r as m,b as de,u as me,j as e}from"./index-RpBzfmRP.js";import{C as he,c as h,a as g,b as o}from"./index.esm-DUetlGrP.js";import{a as O,p as pe}from"./api-CIBCEetx.js";import{S as C}from"./react-select.esm-B1SgKyWb.js";import{w as ue,S as je}from"./Feilds-BHjWXeSc.js";import{P as xe}from"./ProjectSelectionModal-BObft5KY.js";import{C as _e}from"./cil-mobile-BmZiFZXB.js";import{C as y,a as v}from"./CCardBody-CXkOMOvY.js";import{C as ge}from"./CCardHeader-eGsVFHQg.js";import{l as q}from"./DefaultLayout-8YNBKV_4.js";import{C as ye}from"./CForm-HJD6m-Ck.js";import{c as B}from"./cil-file-CeQgYs_D.js";import{C as n}from"./CFormLabel-CbpozHkd.js";import{C as f}from"./CInputGroup-zC7AuBYL.js";import{C as p}from"./CFormInput-DA1SntO8.js";import{C as u}from"./CButton-L7dQWiht.js";import{c as ve}from"./cil-search-CDkY_4k-.js";import{c as b}from"./cil-x-0440B5Ce.js";import{C as w}from"./CInputGroupText-CmPlvCyb.js";import{c as L}from"./cil-calculator-D-rYvA5l.js";import{C as A}from"./CFormSelect-C4Gr2yJD.js";import{c as fe}from"./cil-location-pin-CQr6GRP7.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./emotion-react.browser.esm-CMGNWn0o.js";import"./floating-ui.dom-ByRZgDQ1.js";import"./CTable-CQX9REJw.js";import"./RawMaterial-BtjEDAbB.js";import"./CFormControlWrapper-D2DOCb2Z.js";const Ve=()=>{const[l,d]=m.useState({project_id:"",project_name:"",date:"",workDetails:[{operator_id:"",workType:"",workPoints:"",rate:"",total:0}],surveys:[{operator_id:"",survey_type:"",survey_point:"",rate:"",total:0}],machineReading:[{oprator_id:"",machine_id:"",machine_start:"",machine_end:"",actual_machine_hr:0}],compressorReading:[{oprator_id:"",machine_id:"",comp_rpm_start:"",comp_rpm_end:"",com_actul_hr:0}],rawMaterials:[{material_type:"",qty_used:""}]}),{showToast:j}=de(),[Q,W]=m.useState(!1),[z,N]=m.useState([]),[k,M]=m.useState(""),[_,G]=m.useState([]),[S,X]=m.useState([]),[Y,D]=m.useState(!1),[J,P]=m.useState([]),[K,I]=m.useState(!1),[V,Ce]=m.useState([]),Z=me(),H=m.useCallback(async t=>{try{const a=await O(`/api/projects?searchQuery=${t}`);N(a||[])}catch(a){console.error("Error fetching projects:",a),N([])}},[]);m.useEffect(()=>{O("/api/operatorsByType").then(t=>{const a=t.map(r=>({value:r.id,label:r.name}));G(a)}).catch(t=>{console.error("Error fetching operators:",t)})},[]),m.useEffect(()=>{(async()=>{try{const a=await O("/api/machineries");a.data&&Array.isArray(a.data)&&X(a.data.map(r=>({value:r.id,label:r.machine_name})))}catch(a){console.error("Error fetching machineries:",a)}})()},[]),m.useEffect(()=>{(async()=>{if(l.project_id)try{const a=await O(`/api/getMaterialByProject?project_id=${l.project_id}`);a.materials&&Array.isArray(a.materials)?P(a.materials.map(r=>({value:r.id,label:r.name}))):P([])}catch(a){console.error("Error fetching materials:",a),P([]),j("danger","Failed to fetch materials for the selected project.")}else P([])})()},[l.project_id]),m.useEffect(()=>{const t=setTimeout(()=>{k?H(k):N([])},300);return()=>clearTimeout(t)},[k,H]);const ee=(t,a)=>{if(!t||!a)return 0;const r=parseFloat(a)-parseFloat(t);return r>=0?r.toFixed(2):0},R=(t,a,r)=>{const s=[...l.machineReading];s[t][a]=r,(a==="machine_start"||a==="machine_end")&&(s[t].actual_machine_hr=ee(s[t].machine_start,s[t].machine_end)),d({...l,machineReading:s})},T=(t,a,r)=>{d(s=>{const c=[...s.compressorReading];c[t]={...c[t],[a]:r};const i=parseFloat(c[t].comp_rpm_start||0),x=parseFloat(c[t].comp_rpm_end||0);return c[t].com_actul_hr=i&&x&&x>i?(x-i).toFixed(2):0,{...s,compressorReading:c}})};m.useEffect(()=>{const t=l.workDetails.map(i=>({...i,total:i.workPoints&&i.rate?parseFloat(i.workPoints)*parseFloat(i.rate):0})),a=l.surveys.map(i=>({...i,total:i.survey_point&&i.rate?parseFloat(i.survey_point)*parseFloat(i.rate):0})),r=t.reduce((i,x)=>i+x.total,0),s=a.reduce((i,x)=>i+x.total,0),c=r+s;d(i=>({...i,workDetails:t,surveys:a,totalBill:c}))},[l.workDetails,l.surveys]);const ae=(t,a)=>{d(r=>({...r,[t]:a}))},U=t=>{d(a=>({...a,project_id:t.id,project_name:t.project_name})),M(t.project_name),N([]),D(!1)},F=(t,a,r)=>{const s=[...l.workDetails];s[t]={...s[t],[a]:r},d(c=>({...c,workDetails:s}))},re=()=>{d(t=>({...t,workDetails:[...t.workDetails,{operator_id:"",workType:"",workPoints:"",rate:"",total:0}]}))},te=t=>{d(a=>({...a,workDetails:a.workDetails.filter((r,s)=>s!==t)}))},E=(t,a,r)=>{const s=[...l.surveys];s[t]={...s[t],[a]:r,total:a==="rate"||a==="survey_point"?parseFloat(s[t].survey_point||0)*parseFloat(s[t].rate||0):s[t].total},d(c=>({...c,surveys:s}))},se=()=>{d(t=>({...t,surveys:[...t.surveys,{operator_id:"",survey_type:"",survey_point:"",rate:"",total:0}]}))},le=t=>{d(a=>({...a,surveys:a.surveys.filter((r,s)=>s!==t)}))},$=(t,a,r)=>{const s=[...l.rawMaterials];s[t]={...s[t],[a]:r},d(c=>({...c,rawMaterials:s}))},oe=()=>{d(t=>({...t,rawMaterials:[...t.rawMaterials,{material_type:"",qty_used:""}]}))},ne=t=>{d(a=>({...a,rawMaterials:a.rawMaterials.filter((r,s)=>s!==t)}))},ie={project_id:"",project_name:"",date:"",workDetails:[{operator_id:"",workType:"",workPoints:"",rate:"",total:0}],surveys:[{operator_id:"",survey_type:"",survey_point:"",rate:"",total:0}],machineReading:[{oprator_id:"",machine_id:"",machine_start:"",machine_end:"",actual_machine_hr:0}],compressorReading:[{oprator_id:"",machine_id:"",comp_rpm_start:"",comp_rpm_end:"",com_actul_hr:0}],rawMaterials:[{material_type:"",qty_used:""}]},ce=async()=>{if(!l.project_id){j("danger","Please select a Project.");return}if(!l.date){j("danger","Please select a Date.");return}for(let a=0;a<l.machineReading.length;a++){const r=l.machineReading[a];if(r.machine_start&&r.machine_end){if(!r.oprator_id){j("danger",`Row ${a+1}: Please select an Operator.`);return}if(!r.machine_id){j("danger",`Row ${a+1}: Please select a Machinery.`);return}}}for(let a=0;a<l.workDetails.length;a++){const r=l.workDetails[a];if(r.workPoints&&r.rate){if(!r.operator_id){j("danger",`Row ${a+1} (Work Details): Please select an Operator.`);return}if(!r.workType){j("danger",`Row ${a+1} (Work Details): Please select a Work Type.`);return}}}for(let a=0;a<l.surveys.length;a++){const r=l.surveys[a];if(r.survey_point&&r.rate){if(!r.operator_id){j("danger",`Row ${a+1} (Survey Details): Please select an Operator.`);return}if(!r.survey_type){j("danger",`Row ${a+1} (Survey Details): Please select a Survey Type.`);return}}}for(let a=0;a<l.rawMaterials.length;a++){const r=l.rawMaterials[a];if(r.qty_used&&!r.material_type){j("danger",`Row ${a+1} (Raw Materials): Please select a Material Type.`);return}}const t={project_id:l.project_id,date:l.date,work_points:l.workDetails.map(a=>({operator_id:a.operator_id,work_type:a.workType,work_point:a.workPoints,rate:a.rate,total:a.total})),surveys:l.surveys.map(a=>({operator_id:a.operator_id,survey_type:a.survey_type,survey_point:a.survey_point,rate:a.rate,total:a.total})),machineReading:l.machineReading.map(a=>({oprator_id:a.oprator_id,machine_id:a.machine_id,machine_start:a.machine_start,machine_end:a.machine_end,actual_machine_hr:a.actual_machine_hr})),compressor_rpm:l.compressorReading.map(a=>({oprator_id:a.oprator_id,machine_id:a.machine_id,comp_rpm_start:a.comp_rpm_start,comp_rpm_end:a.comp_rpm_end,com_actul_hr:a.com_actul_hr})),raw_material_usage:l.rawMaterials.map(a=>({material_id:a.material_type,qty_used:a.qty_used}))};try{await pe("/api/drilling",t),W(!0),setTimeout(()=>W(!1),3e3),Z("/infraDetailsShowTable"),d({...ie})}catch(a){console.error("Error saving data",a),j("danger","Error saving data")}};return e.jsxs("div",{className:"",children:[e.jsxs(he,{fluid:!0,children:[Q&&e.jsx(_e,{color:"success",dismissible:!0,onClose:()=>W(!1),children:"Form submitted successfully!"}),e.jsxs(y,{className:"",children:[e.jsx(ge,{className:"bg-primary text-white",children:e.jsxs("h1",{className:"mb-2 h4 d-flex align-items-center",children:[e.jsx(h,{icon:q,className:"me-2"})," Daily Work Logic"]})}),e.jsx(v,{className:"p-4",children:e.jsxs(ye,{children:[e.jsx(y,{className:"mb-4 border-0",color:"info",textColor:"dark",children:e.jsxs(v,{className:"bg-info-subtle rounded rounded-lg",children:[e.jsxs("h5",{className:"text-info mb-3 d-flex align-items-center",children:[e.jsx(h,{icon:B,className:"me-2"})," 1. Project Information"]}),e.jsxs(g,{className:"g-3",children:[e.jsxs(o,{md:6,children:[e.jsx(n,{children:"Project Name *"}),e.jsxs(f,{children:[e.jsx(p,{type:"text",value:k,onChange:t=>{M(t.target.value),D(!0)},placeholder:"Search for a project..."}),l.project_name?e.jsx(u,{type:"button",color:"danger",variant:"outline",onClick:()=>{d(t=>({...t,project_name:"",project_id:""})),M(""),D(!1)},children:e.jsx(h,{icon:b})}):e.jsx(u,{color:"primary",variant:"outline",onClick:()=>I(!0),children:e.jsx(h,{icon:ve})})]}),Y&&z.length>0&&e.jsx("div",{className:"border rounded bg-white mt-1",style:{maxHeight:"150px",overflowY:"auto",position:"relative",zIndex:1e3},children:z.map(t=>e.jsx("div",{className:"p-2 hover-bg-light",style:{cursor:"pointer"},onClick:()=>{U(t),M(t.project_name),D(!1)},children:t.project_name},t.id))})]}),e.jsxs(o,{md:6,children:[e.jsx(n,{children:"Date *"}),e.jsx(p,{type:"date",value:l.date,onChange:t=>ae("date",t.target.value)})]})]})]})}),e.jsx(y,{className:"mb-4 border-0",color:"success",textColor:"dark",children:e.jsxs(v,{className:"bg-success-subtle rounded rounded-lg",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:"text-success mb-3 d-flex align-items-center",children:[e.jsx(h,{icon:q,className:"me-2"})," 2. Machine Usage"]}),e.jsx(u,{color:"success",variant:"outline",type:"button",size:"md",className:"d-flex align-items-center",onClick:()=>d(t=>({...t,machineReading:[...t.machineReading,{oprator_id:"",machine_id:"",machine_start:"",machine_end:"",actual_machine_hr:0}]})),children:"Add Machine Reading"})]}),e.jsx(g,{className:"g-1",children:l.machineReading.map((t,a)=>e.jsxs(g,{className:"mb-2 gx-1",children:[e.jsxs(o,{xs:12,md:3,className:"p-1",children:[e.jsx(n,{children:"Oprator / Helper *"}),e.jsx(C,{options:_,isSearchable:!0,placeholder:"Select Oprator...",value:_.find(r=>r.value===t.oprator_id)||null,onChange:r=>R(a,"oprator_id",r?r.value:"")})]}),e.jsxs(o,{xs:12,md:2,className:"p-1",children:[e.jsx(n,{children:"Machinery *"}),e.jsx(C,{options:S,isSearchable:!0,placeholder:"Machinery",value:S.find(r=>r.value===t.machine_id)||null,onChange:r=>R(a,"machine_id",r?r.value:"")})]}),e.jsxs(o,{xs:12,sm:6,md:2,className:"p-1",children:[e.jsx(n,{children:"Excavator Meter Start"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:t.machine_start===0?"":t.machine_start,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/[^0-9.:]/g,"");R(a,"machine_start",s===""?0:s)}})]}),e.jsxs(o,{xs:12,sm:6,md:2,className:"p-1",children:[e.jsx(n,{children:"Excavator Meter End"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:t.machine_end===0?"":t.machine_end,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/[^0-9.:]/g,"");R(a,"machine_end",s===""?0:s)}})]}),e.jsxs(o,{xs:12,sm:6,md:2,className:"p-1",children:[e.jsx(n,{children:"Actual Hours"}),e.jsxs(f,{children:[e.jsx(p,{type:"text",value:t.actual_machine_hr,readOnly:!0}),e.jsx(w,{children:"hrs"})]})]}),e.jsx(o,{xs:12,sm:6,md:1,className:"d-flex align-items-center mt-4 p-1",children:l.machineReading.length>1&&e.jsx(u,{color:"danger",variant:"ghost",size:"lg",onClick:()=>d(r=>r.machineReading.length<=1?r:{...r,machineReading:r.machineReading.filter((s,c)=>c!==a)}),children:e.jsx(h,{icon:b})})})]},a))})]})}),e.jsx(y,{className:"mb-4 border-0",color:"primary",textColor:"dark",children:e.jsxs(v,{className:"bg-primary-subtle rounded rounded-lg",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:"text-primary mb-3 d-flex align-items-center",children:[e.jsx(h,{icon:q,className:"me-2"})," 3. Compressor Usage"]}),e.jsx(u,{color:"primary",variant:"outline",type:"button",size:"md",className:"d-flex align-items-center",onClick:()=>d(t=>({...t,compressorReading:[...t.compressorReading,{oprator_id:"",machine_id:"",comp_rpm_start:"",comp_rpm_end:"",com_actul_hr:0}]})),children:"Add Compressor Reading"})]}),l.compressorReading.map((t,a)=>e.jsxs(g,{className:"mb-2 gx-1",children:[e.jsxs(o,{xs:12,md:3,className:"p-1",children:[e.jsx(n,{children:"Oprator / Helper *"}),e.jsx(C,{options:_,isSearchable:!0,placeholder:"Select Oprator...",value:_.find(r=>r.value===t.oprator_id)||null,onChange:r=>T(a,"oprator_id",r?r.value:"")})]}),e.jsxs(o,{xs:12,md:2,className:"p-1",children:[e.jsx(n,{children:"Machinery *"}),e.jsx(C,{options:S,isSearchable:!0,placeholder:"Machinery",value:S.find(r=>r.value===t.machine_id)||null,onChange:r=>T(a,"machine_id",r?r.value:"")})]}),e.jsxs(o,{xs:12,md:2,className:"p-1",children:[e.jsx(n,{children:"RPM Start *"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:t.comp_rpm_start,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/[^0-9.:]/g,"");T(a,"comp_rpm_start",s)}})]}),e.jsxs(o,{xs:12,md:2,className:"p-1",children:[e.jsx(n,{children:"RPM End *"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:t.comp_rpm_end,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/[^0-9.:]/g,"");T(a,"comp_rpm_end",s)}})]}),e.jsxs(o,{xs:12,md:2,className:"p-1",children:[e.jsx(n,{children:"RPM Hours"}),e.jsxs(f,{children:[e.jsx(p,{value:t.com_actul_hr,readOnly:!0,className:"bg-light fw-bold"}),e.jsx(w,{children:"hrs"})]})]}),e.jsx(o,{xs:12,sm:6,md:1,className:"d-flex align-items-center mt-4 p-1",children:l.compressorReading.length>1&&e.jsx(u,{color:"danger",variant:"ghost",size:"lg",onClick:()=>d(r=>({...r,compressorReading:r.compressorReading.filter((s,c)=>c!==a)})),children:e.jsx(h,{icon:b})})})]},a))]})}),e.jsx(y,{className:"mb-4 border-0",color:"warning",textColor:"dark",children:e.jsxs(v,{className:"bg-warning-subtle rounded rounded-lg",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:"text-warning mb-0 d-flex align-items-center",children:[e.jsx(h,{icon:L,className:"me-2"})," 4. Work Details"]}),e.jsx(u,{color:"warning",variant:"outline",onClick:re,children:"Add Work"})]}),l.workDetails.map((t,a)=>e.jsxs(g,{className:"align-items-center mb-2",children:[e.jsxs(o,{md:3,children:[e.jsx(n,{children:"Oprator"}),e.jsx(C,{options:_,isSearchable:!0,placeholder:"Select Oprator...",value:_.find(r=>r.value===t.operator_id)||null,onChange:r=>F(a,"operator_id",r?r.value:"")})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Work Type"}),e.jsxs(A,{value:t.workType,onChange:r=>F(a,"workType",r.target.value),children:[e.jsx("option",{value:"",children:"Select Work Type"}),ue.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Points"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.workPoints===0?"":t.workPoints,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/\D/g,"");F(a,"workPoints",s===""?0:Number(s))}})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Rate"}),e.jsxs(f,{children:[e.jsx(w,{children:"₹"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.rate===0?"":t.rate,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/\D/g,"");F(a,"rate",s===""?0:Number(s))}})]})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Total"}),e.jsxs(f,{children:[e.jsx(w,{children:"₹"}),e.jsx(p,{value:t.total.toFixed(2),readOnly:!0,className:"bg-light fw-bold"})]})]}),e.jsx(o,{lg:1,children:l.workDetails.length>1&&e.jsx(u,{color:"danger",variant:"ghost",size:"sm",onClick:()=>te(a),children:e.jsx(h,{icon:b})})})]},a))]})}),e.jsx(y,{className:"mb-4 border-0",color:"info",textColor:"dark",children:e.jsxs(v,{className:"bg-info-subtle rounded rounded-lg",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:"text-info mb-0 d-flex align-items-center",children:[e.jsx(h,{icon:fe,className:"me-2"})," 5. Survey Details"]}),e.jsx(u,{color:"info",variant:"outline",onClick:se,children:"Add Survey"})]}),l.surveys.map((t,a)=>e.jsxs(g,{className:"align-items-center mb-2",children:[e.jsxs(o,{md:3,children:[e.jsx(n,{children:"Oprator"}),e.jsx(C,{options:_,isSearchable:!0,placeholder:"Select Oprator...",value:_.find(r=>r.value===t.operator_id)||null,onChange:r=>E(a,"operator_id",r?r.value:"")})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Survey Type"}),e.jsxs(A,{value:t.survey_type,onChange:r=>E(a,"survey_type",r.target.value),children:[e.jsx("option",{value:"",children:"Select Survey Type"}),je.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Points"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.survey_point===0?"":t.survey_point,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/\D/g,"");E(a,"survey_point",s===""?0:Number(s))}})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Rate"}),e.jsxs(f,{children:[e.jsx(w,{children:"₹"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.rate===0?"":t.rate,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/\D/g,"");E(a,"rate",s===""?0:Number(s))}})]})]}),e.jsxs(o,{lg:2,children:[e.jsx(n,{children:"Total"}),e.jsxs(f,{children:[e.jsx(w,{children:"₹"}),e.jsx(p,{value:t.total.toFixed(2),readOnly:!0,className:"bg-light fw-bold"})]})]}),e.jsx(o,{lg:1,children:l.surveys.length>1&&e.jsx(u,{color:"danger",variant:"ghost",size:"sm",onClick:()=>le(a),children:e.jsx(h,{icon:b})})})]},a))]})}),e.jsx(y,{className:"mb-4 border-0",color:"secondary",textColor:"dark",children:e.jsxs(v,{className:"bg-secondary-subtle rounded rounded-lg",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h5",{className:"text-secondary mb-0 d-flex align-items-center",children:[e.jsx(h,{icon:L,className:"me-2"})," 6. Raw Material"]}),e.jsx(u,{color:"secondary",variant:"outline",onClick:oe,children:"Add Material"})]}),l.rawMaterials.map((t,a)=>e.jsxs(g,{className:"align-items-center mb-2",children:[e.jsxs(o,{lg:4,children:[e.jsx(n,{children:"Material Type"}),e.jsxs(A,{value:t.material_type,onChange:r=>$(a,"material_type",r.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),J.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs(o,{lg:4,children:[e.jsx(n,{children:"Quantity Used"}),e.jsx(p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:t.qty_used===""?"":t.qty_used,placeholder:"0",onChange:r=>{let s=r.target.value.replace(/\D/g,"");$(a,"qty_used",s===""?"":Number(s))}})]}),e.jsxs(o,{lg:3,children:[e.jsx(n,{children:"Unit"}),e.jsxs(A,{value:t.unit||"",onChange:r=>$(a,"unit",r.target.value),disabled:!t.material_type,children:[e.jsx("option",{value:"",children:"Select Unit"}),(()=>{var c,i;const r=V.find(x=>x.id===parseInt(t.material_type)),s=(i=(c=r==null?void 0:r.logs)==null?void 0:c[0])==null?void 0:i.unit;return s?e.jsx("option",{value:s,children:s.toUpperCase()},s):e.jsx("option",{value:"NA",children:"NA"})})()]})]}),e.jsx(o,{lg:1,children:l.rawMaterials.length>1&&e.jsx(u,{color:"danger",variant:"ghost",size:"sm",onClick:()=>ne(a),children:e.jsx(h,{icon:b})})})]},a))]})}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs(u,{color:"danger",size:"lg",className:"px-5 d-flex align-items-center",onClick:ce,children:[e.jsx(h,{icon:B,className:"me-2"})," Submit"]})})]})})]})]}),e.jsx(xe,{visible:K,onClose:()=>I(!1),onSelectProject:U})]})};export{Ve as default};
