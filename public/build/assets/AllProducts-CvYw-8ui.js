import{u as Jt,b as Kt,r as f,j as e}from"./index-C2yVeD7S.js";import{a as ie,b as le,c as Zt}from"./index.esm-BfesGHR4.js";import{c as Se,p as D,a as _e,d as _t}from"./api-CIBCEetx.js";import{C as Xt}from"./ConfirmationModal-arXE52xA.js";import{E as ea}from"./jspdf.es.min-DXUXeSrX.js";import"./jspdf.plugin.autotable-nrCojwMH.js";import{l as Ne}from"./TipicConsultech-B6_BeNSe.js";import{u as ta,C as ce}from"./DefaultLayout-BQzMumzV.js";import{C as S}from"./CButton-pXUvGqWL.js";import{C as U}from"./CFormInput-CXoXZ5N_.js";import{C as Nt,a as Lt}from"./CCardBody-D-jAy6vr.js";import{C as aa}from"./CCardHeader-6bNqU1xa.js";import{C as sa,a as oa,b as Le,c as X,d as ra,e as $}from"./CTable-BcsPMDrs.js";import{c as na}from"./cil-pencil-m516yCOw.js";import{C as ia}from"./CForm-9WpppnGX.js";import{C as ee}from"./CFormLabel-eLpXnSYX.js";import{C as la}from"./CFormCheck-BVuPHuFe.js";import"./typeof-QjJsDpFa.js";import"./jspdf.es.min-NBB-aZqm.js";import"./RawMaterial-BtjEDAbB.js";import"./cil-mobile-YEmBCbC2.js";import"./CFormControlWrapper-D7XNeBGJ.js";var ca=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M199.066,456l-7.379-7.514-3.94-3.9-86.2-86.2.053-.055L17.936,274.665l97.614-97.613,83.565,83.565L398.388,61.344,496,158.958,296.729,358.229,285.469,369.6ZM146.6,358.183l52.459,52.46.1-.1.054.054,52.311-52.311,11.259-11.368L450.746,158.958,398.388,106.6,199.115,305.871,115.55,222.306,63.191,274.665l83.464,83.463Z' class='ci-primary'/>"];async function da(w,te="download",d=null){var a,Q,O,de,W,ye,me;try{const ae=["company_name","phone_no","email_id"],A=w.company||{},R=_=>{if(!_)return"N/A";const y=new Date(_);return isNaN(y)?"Invalid Date":`${y.getDate().toString().padStart(2,"0")}-${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getFullYear()}`},M=_=>{const y=parseFloat(_);return isNaN(y)?"0.00 /-":`${y.toLocaleString("en-IN",{minimumFractionDigits:2})} /-`},L=(_,y=50)=>_?String(_).substring(0,y):"N/A",i=new ea,k={primary:"#4CAF50",textDark:"#333333",border:"#cccccc"};i.setFont("helvetica","normal"),i.setDrawColor(k.border),i.setLineWidth(.5),i.rect(5,5,i.internal.pageSize.getWidth()-10,i.internal.pageSize.getHeight()-10),i.setFontSize(18).setTextColor(k.textDark).setFont("helvetica","bold"),i.text("Upgrade Plan Receipt",i.internal.pageSize.getWidth()/2,15,{align:"center"}),Ne&&typeof Ne=="string"&&i.addImage(Ne,"PNG",15,25,50,25),i.setFontSize(11).setFont("helvetica","normal"),i.text(L(A.company_name),190,30,{align:"right"}),i.text(L(A.land_mark||"Konark Karya"),190,35,{align:"right"}),i.text(L(`${A.Tal||""}, ${A.Dist||""}, ${A.pincode||""}`),190,40,{align:"right"}),i.text(L(`Phone: ${A.phone_no||"N/A"}`),190,45,{align:"right"}),i.setDrawColor(k.primary),i.setLineWidth(.7),i.line(15,65,i.internal.pageSize.getWidth()-15,65),i.setFontSize(13).setTextColor(k.primary).setFont("helvetica","bold"),i.text("Receipt to:",15,75),i.setFontSize(11).setTextColor(k.textDark).setFont("helvetica","normal"),i.text("Company Name",15,83),i.text("Mobile Number",15,89),i.text("Email",15,95),i.text("Transaction ID",15,101),i.text(": ",45,83),i.text(": ",45,89),i.text(": ",45,95),i.text(": ",45,101),i.text(L(A.company_name),48,83),i.text(L(A.phone_no),48,89),i.text(L(A.email_id),48,95),i.text(L(w.transaction_id),48,101);const pe=new Date().toISOString();i.text("Receipt Date",130,83),i.text("Valid Till",130,89),i.text(": ",165,83),i.text(": ",165,89),i.text(L(R(w.created_at||pe)),168,83),i.text(L(R((a=w.new_plan)==null?void 0:a.valid_till)),168,89),i.setFontSize(13).setTextColor(k.primary).setFont("helvetica","bold"),i.text("Plan Details",15,115);const ue=[["Previous Plan",L((Q=w.previous_plan)==null?void 0:Q.name),R((O=w.previous_plan)==null?void 0:O.valid_till),M((de=w.previous_plan)==null?void 0:de.price)],["New Plan",L((W=w.new_plan)==null?void 0:W.name),R((ye=w.new_plan)==null?void 0:ye.valid_till),M((me=w.new_plan)==null?void 0:me.price)]];i.autoTable({startY:120,theme:"grid",headStyles:{fillColor:k.primary,textColor:"#FFF",fontStyle:"bold",halign:"center"},bodyStyles:{textColor:k.textDark},head:[["Plan Type","Plan Name","Start Date","Amount"]],body:ue,margin:{left:15,right:15},columnStyles:{4:{halign:"right"}}});const he=i.autoTable.previous.finalY+15;i.setFontSize(13).setTextColor(k.primary).setFont("helvetica","bold"),i.text("Payment Details",15,he);const Y=parseFloat(w.total_amount||0),se=parseFloat(w.gst||0),je=parseFloat(w.payable_amount||Y+se),ve=[["Amount",M(Y)],["GST",M(se)],["Amount Paid",M(je)]];if(i.autoTable({startY:he+5,theme:"grid",head:[["Description","Amount"]],body:ve,headStyles:{fillColor:k.primary,textColor:"#FFF",fontStyle:"bold"},bodyStyles:{textColor:k.textDark},columnStyles:{1:{halign:"right"}},margin:{left:15,right:15}}),i.setFontSize(10).setTextColor("#000"),i.text("This receipt has been generated by computer and is authorized.",i.internal.pageSize.getWidth()/2,i.internal.pageSize.getHeight()-15,{align:"center"}),te==="blob"){const _=i.output("blob");return typeof d=="function"&&d(_),_}else{const _=`Upgrade_Receipt_${Date.now()}.pdf`;return i.save(_),_}}catch(ae){return console.error("Error generating upgrade receipt PDF:",ae),window.showToast&&showToast("danger","Failed to generate PDF"),null}}const ma=(w=768)=>{const[te,d]=f.useState(window.innerWidth<w);return f.useEffect(()=>{const a=()=>d(window.innerWidth<w);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[w]),te},Da=()=>{var Pe,Te,Ie,We,Re,Ge,Ue,$e,Qe,Oe,Ye,Ve,He,Je,Ke,Ze,Xe,et,tt,at,st,ot,rt,nt,it,lt,ct,dt,mt,pt,ut,ht,xt,gt,bt,ft,yt,jt,vt,wt,St;const w=Jt(),te=ma(),{showToast:d}=Kt(),{t:a,i18n:Q}=ta("global");Q.language;const[O,de]=f.useState([]),[W,ye]=f.useState(),[me,ae]=f.useState(!1),[A,R]=f.useState(null),[M,L]=f.useState(null),[i,k]=f.useState(null),[pe,ue]=f.useState([]),[he,Y]=f.useState(!1);f.useState(!1);const[se,je]=f.useState(null),[ve,_]=f.useState(!1),[y,xe]=f.useState(""),[x,T]=f.useState({visible:!1,product:null,addedQty:0,maxAddable:0}),ke=localStorage.getItem("userData");if(!ke)return!1;let j;try{j=JSON.parse(ke)}catch(t){return console.error("Failed to parse userData:",t),!1}const Ee=()=>{var r,l,s;const t=((s=(l=(r=j==null?void 0:j.user)==null?void 0:r.company_info)==null?void 0:l.subscribed_plan_name)==null?void 0:s.toLowerCase())||"",o=["monthly business essential (start-up) - credit report","monthly business essential (start-up) - advanced booking","annually business essential (start-up) - credit report","annually business essential (start-up) - advanced booking","half-yearly business essential (start-up) - credit report","half-yearly business essential (start-up) - advanced booking","quarterly business essential (start-up) - credit report","quarterly business essential (start-up) - advanced booking"];return console.log(t),o.includes(t)},kt=()=>{var o,r,l;return(((l=(r=(o=j==null?void 0:j.user)==null?void 0:o.company_info)==null?void 0:r.subscribed_plan_name)==null?void 0:l.trim())||"").includes("Golden Growth")},[u,C]=f.useState({visible:!1,localNameEdited:!1,formData:{name:"",localName:"",slug:"",categoryId:0,incStep:1,desc:"",multiSize:!1,show:!0,returnable:!0,showOnHome:!0,unit:"",qty:"",stock:"",oPrice:"",media:[],sizes:[]},images:[]}),[z,q]=f.useState({visible:!1,csvFile:null,isUploading:!1,message:"",isError:!1}),Et=((Ie=(Te=(Pe=j==null?void 0:j.user)==null?void 0:Pe.company_info)==null?void 0:Te.subscribed_plan_name)==null?void 0:Ie.toLowerCase())||"";(We=j==null?void 0:j.user)==null||We.company_id,(Re=j==null?void 0:j.user)==null||Re.id,(Ue=(Ge=j==null?void 0:j.user)==null?void 0:Ge.company_info)==null||Ue.subscription_validity;const At=()=>Et.includes("elite"),[I,Ct]=f.useState([]),Ae=()=>{var v,g,N;const t=JSON.parse(localStorage.getItem("userData")),o=((N=(g=(v=t==null?void 0:t.user)==null?void 0:v.company_info)==null?void 0:g.subscribed_plan_name)==null?void 0:N.toLowerCase())||"",r=o.includes("monthly"),l=o.includes("quarterly"),s=o.includes("half-yearly"),n=o.includes("annually"),c=o.includes("essential"),m=o.includes("golden growth");if(r){if(c)return I.filter(p=>p.name.toLowerCase().includes("monthly golden growth")||p.name.toLowerCase().includes("monthly elite"));if(m)return I.filter(p=>p.name.toLowerCase().includes("monthly elite"))}if(l){if(c)return I.filter(p=>p.name.toLowerCase().includes("quarterly golden growth")||p.name.toLowerCase().includes("quarterly elite"));if(m)return I.filter(p=>p.name.toLowerCase().includes("quarterly elite"))}if(s){if(c)return I.filter(p=>p.name.toLowerCase().includes("half-yearly golden growth")||p.name.toLowerCase().includes("half-yearly elite"));if(m)return I.filter(p=>p.name.toLowerCase().includes("half-yearly elite"))}if(n){if(c)return I.filter(p=>p.name.toLowerCase().includes("annually golden growth")||p.name.toLowerCase().includes("annually elite"));if(m)return I.filter(p=>p.name.toLowerCase().includes("annually elite"))}return[]},Bt=async t=>{const o=await D("/api/upgrade-preview",{new_plan_id:t.id});(o==null?void 0:o.payable_amount)!==void 0&&(je(t),k({...o,current_plan:o.current_plan,current_plan_price:o.current_plan_price}),_(!0))};f.useEffect(()=>{(async()=>{const o=await _e("/api/detailsForCompany");o!=null&&o.plans&&Ct(o.plans)})()},[]);const[E,oe]=f.useState({visible:!1,product:null,media:[],description:""}),ge=async t=>{const o=await _e(`/api/product/${t.id}/media`);oe({visible:!0,product:t,media:o})},zt=async t=>{await _t(`/api/product/media/${t}`),ge(E.product)};f.useState({visible:!1,plans:[]});const Ce=async t=>{try{const r=await(await fetch(`/${t}`)).blob(),l=new File([r],"ProductImage.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[l]})?await navigator.share({title:"Product Image",text:"Check out this product image!",files:[l]}):alert("Your browser does not support sharing images via WhatsApp or system share.")}catch(o){console.error("Error sharing image:",o),alert("Failed to share image.")}},V=async()=>{try{const t=await _e("/api/product");de(t)}catch(t){d("danger",a("MESSAGES.error_occurred",{error:t.message}))}};f.useEffect(()=>{V()},[]);const H=f.useMemo(()=>y.trim()?O.filter(t=>t.name.toLowerCase().includes(y.toLowerCase())||t.localName&&t.localName.toLowerCase().includes(y.toLowerCase())):O,[O,y]),Ft=async()=>{try{await _t(`/api/product/${W.id}`),ae(!1),V(),d("success",a("MESSAGES.product_deleted"))}catch(t){d("danger",a("MESSAGES.error_occurred",{error:t.message}))}},Be=t=>{w(`/products/edit/${t.id}`)},ze=t=>{var s,n,c,m;const o=((n=(s=t.sizes)==null?void 0:s[0])==null?void 0:n.stock)||0,l=(((m=(c=t.sizes)==null?void 0:c[0])==null?void 0:m.qty)||0)-o;T({visible:!0,product:t,addedQty:l>0?1:0,maxAddable:l})},[h,P]=f.useState({visible:!1,product:null,qty:"",price:""}),Fe=t=>{var r,l,s,n;(l=(r=t.sizes)==null?void 0:r[0])!=null&&l.stock;const o=((n=(s=t.sizes)==null?void 0:s[0])==null?void 0:n.oPrice)||"";P({visible:!0,product:t,qty:"",price:o||""})},qt=async()=>{var t,o;try{const r={product_id:h.product.id,price:parseFloat(h.price),quantity:parseInt(h.qty)},l=await D("/api/dead-stock",r);d("success",l.message||a("MESSAGES.dead_stock_deducted")),P({visible:!1,product:null,qty:"",price:0}),V()}catch(r){d("danger",a("MESSAGES.dead_stock_failed",{error:((o=(t=r.response)==null?void 0:t.data)==null?void 0:o.message)||"-"}))}},Dt=async()=>{var t,o;try{const r=x.product.id,s={size_id:x.product.sizes[0].id,added_qty:Number(x.addedQty)},n=await D(`/api/product/${r}/update-quantity`,s);n.success!==!1?(d("success",a("MESSAGES.stock_updated_success")),T({visible:!1,product:null,addedQty:0,maxAddable:0}),V()):d("danger",a("MESSAGES.update_stock_failed",{error:n.message||"-"}))}catch(r){const l=((o=(t=r.response)==null?void 0:t.data)==null?void 0:o.message)||r.message||"-";d("danger",a("MESSAGES.update_stock_failed",{error:l}))}},qe=()=>{C({visible:!0,localNameEdited:!1,formData:{name:"",localName:"",slug:"",categoryId:0,incStep:1,desc:"",multiSize:!1,show:!0,returnable:!0,showOnHome:!0,unit:"",qty:"",stock:"",oPrice:"",media:[],sizes:[]}})},we=()=>{C(t=>({...t,visible:!1}))},re=t=>{const{name:o,value:r}=t.target;if(["qty","stock","incStep"].includes(o)){if(r===""){C(n=>({...n,formData:{...n.formData,[o]:""}}));return}let s=parseFloat(r);if(isNaN(s)||s<0)return;if(o==="stock"){const n=parseFloat(u.formData.qty)||0;if(n>0&&s>n){d("warning",`Stock cannot exceed capacity (${n})`);return}}if(o==="qty"){const n=parseFloat(u.formData.stock)||0;if(n>0&&s<n){d("warning",`Capacity cannot be less than current stock (${n})`);return}}C(n=>({...n,formData:{...n.formData,[o]:s}}));return}if(o==="oPrice"){if(r===""){C(n=>({...n,formData:{...n.formData,[o]:""}}));return}if(!/^\d*\.?\d{0,2}$/.test(r))return;C(n=>({...n,formData:{...n.formData,[o]:r}}));return}C(o==="name"?s=>({...s,formData:{...s.formData,name:r,localName:s.localNameEdited?s.formData.localName:r}}):o==="localName"?s=>({...s,localNameEdited:!0,formData:{...s.formData,localName:r}}):s=>({...s,formData:{...s.formData,[o]:r}}))},Mt=t=>{const{name:o,checked:r}=t.target;C(l=>({...l,formData:{...l.formData,[o]:r}}))},Pt=async t=>{try{if(!u||!Array.isArray(u.images)||u.images.length===0)return console.log("âœ… No images to upload."),{success:!0};const o=u.images.filter(Boolean);if(o.length===0)return console.log("âœ… All images were empty or invalid, skipping upload."),{success:!0};const r=new FormData;o.forEach((s,n)=>{r.append("images[]",s)}),r.append("product_id",t.toString()),console.log("ðŸ“¤ Uploading images for product ID:",t);const l=await Se("/api/product/media/multiple",r);return console.log("âœ… Image upload success:",l),{success:!0,response:l}}catch(o){return console.error("âŒ Image upload failed:",o),{success:!1,error:o}}},Tt=async t=>{t.preventDefault();const o=t.target;if(!o.checkValidity()){o.classList.add("was-validated");return}const r=u.formData.oPrice,l=parseFloat(r);if(isNaN(l)||l<0){d("danger",a("MESSAGES.invalid_selling_price"));return}const s=parseFloat(u.formData.qty)||0,n=parseFloat(u.formData.stock)||0;if(n>s){d("danger",a("MESSAGES.stock_exceeds_capacity",{stock:n,qty:s}));return}let c={...u.formData,sizes:[]};c.slug=c.name.replace(/[^\w]/g,"_"),u.formData.multiSize||(c.sizes.push({name:c.name,localName:c.localName,qty:c.qty,oPrice:r,dPrice:r,stock:c.stock,show:!0,returnable:c.returnable}),delete c.oPrice,delete c.qty,delete c.stock);try{const m=await D("/api/product",c);m&&m.id?(d("success",a("MESSAGES.product_added_success")),(await Pt(m.id)).success?Array.isArray(u.images)&&u.images.filter(Boolean).length&&d("success",a("MESSAGES.images_uploaded_success")):d("warning",a("MESSAGES.images_upload_failed")),we(),V()):m&&m.message?d("danger",m.message):d("danger",a("MESSAGES.unexpected_response"))}catch(m){if(m.response){const v=m.response.status,g=m.response.data;v===422&&g.errors?Object.entries(g.errors).forEach(([N,p])=>{p.forEach(b=>{d("danger",a("MESSAGES.validation_error",{error:b}))})}):g.message?d("danger",g.message):d("danger",a("MESSAGES.unexpected_response"))}else m.request?d("danger",a("MESSAGES.network_error")):d("danger",a("MESSAGES.unknown_error"))}},J=($e=j==null?void 0:j.user)==null?void 0:$e.company_info,B={name:i==null?void 0:i.current_plan,price:i==null?void 0:i.current_plan_price,start_date:(J==null?void 0:J.subscribed_from)||null,valid_till:(J==null?void 0:J.subscription_validity)||null},It=async(t,o)=>{var r;try{if(!t||!o){d("danger","Missing plan or amount!");return}const l=JSON.parse(localStorage.getItem("userData")),s=l==null?void 0:l.user,n=s==null?void 0:s.company_info,c=s==null?void 0:s.id,m=s==null?void 0:s.company_id,v=n==null?void 0:n.subscription_validity;if(!c||!m){d("danger","Company or user not found in localStorage.");return}if(!window.Razorpay){const b=document.createElement("script");b.src="https://checkout.razorpay.com/v1/checkout.js",await new Promise((G,F)=>{b.onload=G,b.onerror=F,document.body.appendChild(b)})}const g=await D("/api/create-order",{amount:o});if(!((r=g==null?void 0:g.order)!=null&&r.id)){d("danger","Failed to create payment order.");return}const N={key:g.key,amount:g.order.amount,currency:g.order.currency,order_id:g.order.id,name:"Subscription Upgrade",description:t.name,handler:async b=>{var G;try{const F=await D("/api/verify-payment",{razorpay_order_id:b.razorpay_order_id,razorpay_payment_id:b.razorpay_payment_id,razorpay_signature:b.razorpay_signature});if(F!=null&&F.success){const fe={company_id:m,plan_id:t.id,user_id:c,total_amount:o,valid_till:v,transaction_id:b.razorpay_payment_id,transaction_status:"success",renewal_type:"upgrade"};await D("/api/company-receipt",fe),await D("/api/company/update-plan",{company_id:m,plan_id:t.id});const K=n==null?void 0:n.subscription_validity,Yt=K,Z={...l};(G=Z==null?void 0:Z.user)!=null&&G.company_info&&(Z.user.company_info.subscribed_plan=t.id,Z.user.company_info.subscribed_plan_name=t.name,localStorage.setItem("userData",JSON.stringify(Z)));const Vt={company:{company_name:(n==null?void 0:n.company_name)||"N/A",phone_no:(s==null?void 0:s.mobile)||"N/A",email_id:(s==null?void 0:s.email)||"N/A",land_mark:(n==null?void 0:n.land_mark)||"",Tal:(n==null?void 0:n.Tal)||"",Dist:(n==null?void 0:n.Dist)||"",pincode:(n==null?void 0:n.pincode)||""},transaction_id:b.razorpay_payment_id,created_at:new Date().toISOString(),previous_plan:{name:(B==null?void 0:B.name)||"Previous Plan",price:(B==null?void 0:B.price)||0,start_date:(B==null?void 0:B.start_date)||null,valid_till:(B==null?void 0:B.valid_till)||K},new_plan:{name:t.name,price:(()=>{const Ht=t.name.toLowerCase().includes("annually")?t.price*12:t.price;return Math.round(Ht*5)/5})(),start_date:new Date().toISOString(),valid_till:Yt},total_amount:o,gst:0,payable_amount:o};da(Vt),d("success","Plan upgraded successfully!"),_(!1),setTimeout(()=>{window.location.reload()},1e3)}else d("danger","Payment verification failed.")}catch(F){console.error("Upgrade error:",F),d("danger","Upgrade failed: "+F.message)}},prefill:{name:(s==null?void 0:s.name)||t.name,email:(s==null?void 0:s.email)||"support@example.com",contact:(s==null?void 0:s.mobile)||""},theme:{color:"#4CAF50"}},p=new window.Razorpay(N);p.open(),p.on("payment.failed",async b=>{var G,F,fe;console.error("Payment failed:",b.error),d("danger","Payment failed. Please try again.");try{const K={company_id:m,plan_id:t.id,user_id:c,total_amount:o,valid_till:v,transaction_id:((F=(G=b.error)==null?void 0:G.metadata)==null?void 0:F.payment_id)??"failed",transaction_status:((fe=b.error)==null?void 0:fe.description)??"Failed",renewal_type:"upgrade_failed"};await D("/api/company-receipt",K)}catch(K){console.error("Failed receipt logging:",K)}})}catch(l){console.error("handleRazorpayPayment error:",l),d("danger","Something went wrong: "+l.message)}},De=()=>{q({visible:!0,csvFile:null,isUploading:!1,message:"",isError:!1})},Me=()=>{q(t=>({...t,visible:!1}))},Wt=t=>{const o=t.target.files[0];q(r=>({...r,csvFile:o,message:"",isError:!1}))},Rt=async()=>{var o,r,l;if(!z.csvFile){q(s=>({...s,message:a("MESSAGES.select_csv_file"),isError:!0}));return}if(z.csvFile.type!=="text/csv"&&!z.csvFile.name.endsWith(".csv")){q(s=>({...s,message:a("MESSAGES.invalid_csv_file"),isError:!0}));return}const t=new FormData;t.append("csv_file",z.csvFile);try{q(c=>({...c,isUploading:!0}));const s=await Se("/api/uploadProducts",t),n=((o=s==null?void 0:s.data)==null?void 0:o.message)||(s==null?void 0:s.message);n?(q(c=>({...c,message:n,isError:!1,csvFile:null})),d("success",a("MESSAGES.products_uploaded_success")),V()):q(c=>({...c,message:a("MESSAGES.upload_failed"),isError:!0}))}catch(s){const n=((l=(r=s.response)==null?void 0:r.data)==null?void 0:l.error)||"-";q(c=>({...c,message:n,isError:!0})),d("danger",a("MESSAGES.bulk_upload_failed",{error:n}))}finally{q(s=>({...s,isUploading:!1}))}},Gt=()=>{const t=document.createElement("a");t.href="sample_products_template.csv",t.download="SampleProductTemplate.csv",document.body.appendChild(t),t.click(),document.body.removeChild(t)},Ut=(t,o)=>{oe(r=>{const l=[...r.media];return l[t].description=o,{...r,media:l}})},$t=async(t,o)=>{try{await D(`/api/product/media/${t}`,{description:o}),d("success","Description updated")}catch(r){d("danger","Failed to update description"),console.error(r)}},ne=f.useRef(!1),Qt=t=>{const o=t.target.value,r=x.maxAddable;if(o===""){T(s=>({...s,addedQty:""})),ne.current=!1;return}const l=parseInt(o,10);isNaN(l)||l<0?(T(s=>({...s,addedQty:0})),ne.current=!1):l>r?(T(s=>({...s,addedQty:r})),ne.current||(d("warning",a("MESSAGES.maximum_stock_limit",{max:r})),ne.current=!0)):(T(s=>({...s,addedQty:l})),ne.current=!1)},be=(t,o)=>{const r=parseInt(t)||0,l=parseInt(o)||1,s=r/l*100;return s<20?{level:"critical",color:"danger",strobe:!0,percentage:s.toFixed(1),description:"Critical - Less than 20% stock remaining"}:s>=20&&s<=50?{level:"low",color:"warning",strobe:!0,percentage:s.toFixed(1),description:"Low - 20-50% stock remaining"}:{level:"good",color:"success",strobe:!1,percentage:s.toFixed(1),description:"Good - More than 50% stock remaining"}},Ot=t=>{var c,m,v,g,N,p;const o=((m=(c=t.sizes)==null?void 0:c[0])==null?void 0:m.stock)||0,r=((g=(v=t.sizes)==null?void 0:v[0])==null?void 0:g.qty)||1,l=((p=(N=t.sizes)==null?void 0:N[0])==null?void 0:p.oPrice)||0,s=(o/r*100).toFixed(1),n=s<20?"danger":s<=50?"warning":"success";return e.jsx(Nt,{className:"mb-3 border shadow-sm rounded mobile-product-card",children:e.jsxs(Lt,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold",children:Q.language==="mr"&&t.localName||t.name}),e.jsxs("small",{className:"text-muted",children:["â‚¹",l==null?void 0:l.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"d-flex flex-column align-items-end gap-2",children:[e.jsxs(ce,{color:n,style:{animation:s<20?"stockStrobe 1.5s infinite":s>=20&&s<=50?"warningStrobe 2s infinite":"none",backgroundColor:(()=>{if(s>=20&&s<=50)return"#ff8c00"})()},children:[o," (",s,"%)"]}),Ee()?e.jsxs("button",{type:"button",className:"btn btn-danger btn-sm d-flex align-items-center justify-content-center",onClick:()=>{const b=Ae();ue(b),Y(!0)},style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"100px",width:"100%"},children:["ðŸ”’ ",a("LABELS.upgrade")]}):e.jsxs("button",{type:"button",className:"btn btn-outline-purple btn-sm d-flex align-items-center justify-content-center",onClick:()=>ge(t),style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"100px",width:"100%"},children:["ðŸ–¼ï¸ ",a("LABELS.images")]})]})]}),e.jsxs("div",{className:"d-flex gap-1 justify-content-between",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>ze(t),style:{borderRadius:"20px",padding:"6px 4px",fontSize:"10px",fontWeight:"500",width:"32%",minWidth:0},children:["ðŸ”§ ",a("LABELS.update")]}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>Fe(t),style:{borderRadius:"20px",padding:"6px 4px",fontSize:"10px",fontWeight:"500",width:"32%",minWidth:0},children:["âŒ ",a("LABELS.dead_stock")]}),e.jsxs("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:()=>Be(t),style:{borderRadius:"20px",padding:"6px 4px",fontSize:"10px",fontWeight:"500",width:"32%",minWidth:0},children:["âœï¸ ",a("LABELS.edit")]})]})]})},t.id)};return e.jsxs(e.Fragment,{children:[e.jsx("style",{jsx:!0,global:!0,children:`
  @keyframes stockStrobe {
    0%, 50% { 
      opacity: 1; 
      box-shadow: 0 0 5px rgba(220, 53, 69, 0.8);
    }
    25%, 75% { 
      opacity: 0.4; 
      box-shadow: 0 0 15px rgba(220, 53, 69, 0.4);
    }
  }
  .badge-purple {
  background-color: #6f42c1 !important;
  color: white;
}

  @keyframes stockStrobe {
  0% { background-color: #dc3545; opacity: 1; }
  50% { background-color: #dc3545; opacity: 0.5; }
  100% { background-color: #dc3545; opacity: 1; }
}

@keyframes warningStrobe {
  0% { background-color: #ff8c00; opacity: 1; }
  50% { background-color: #ff8c00; opacity: 0.5; }
  100% { background-color: #ff8c00; opacity: 1; }
}

  
  @keyframes warningStrobe {
    0%, 50% { 
      opacity: 1; 
      box-shadow: 0 0 5px rgba(255, 165, 0, 0.8);
    }
    25%, 75% { 
      opacity: 0.4; 
      box-shadow: 0 0 15px rgba(255, 165, 0, 0.4);
    }
  }

  .btn-outline-blue {
  border-color: #2563eb !important;
  color: #2563eb !important;
  background-color: white !important;
}

.btn-outline-blue:hover {
  background-color: #2563eb !important;
  border-color: #2563eb !important;
  color: white !important;
}

.btn-outline-red {
  border-color: #dc2626 !important;
  color: #dc2626 !important;
  background-color: white !important;
}

.btn-outline-red:hover {
  background-color: #dc2626 !important;
  border-color: #dc2626 !important;
  color: white !important;
}

.btn-outline-green {
  border-color: #16a34a !important;
  color: #16a34a !important;
  background-color: white !important;
}

.btn-outline-green:hover {
  background-color: #16a34a !important;
  border-color: #16a34a !important;
  color: white !important;
}

.btn-outline-purple {
  border-color: #7c3aed !important;
  color: #7c3aed !important;
  background-color: white !important;
}

.btn-outline-purple:hover {
  background-color: #7c3aed !important;
  border-color: #7c3aed !important;
  color: white !important;
}

  /* Table container with proper scrolling */
  .table-responsive {
    max-height: 61vh;
    overflow: auto; /* Both horizontal and vertical scrolling */
    border: 1px solid #dee2e6;
    border-radius: 0.375rem;
    position: relative;
  }

  /* Main table styling */
  .products-table {
    width: 100%;
    min-width: 800px; /* Minimum width to maintain readability */
    table-layout: fixed;
    margin-bottom: 0;
  }

  /* Sticky header styling */
  .products-table thead th {
    position: sticky;
    top: 0;
    z-index: 10;
    background-color: #f8f9fa;
    border-bottom: 2px solid #dee2e6;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    white-space: nowrap;
    font-weight: 600;
  }

  .products-table th,
  .products-table td {
    text-align: center;
    vertical-align: middle;
    padding: 8px 4px;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Remove right border from last column */
  .products-table th:last-child,
  .products-table td:last-child {
    border-right: none;
  }

  /* Fixed column widths for better alignment - REDUCED PRODUCT NAME COLUMN */
  .products-table th:nth-child(1),
  .products-table td:nth-child(1) {
    width: 200px;
    min-width: 200px;
    text-align: center;
  }

  .products-table th:nth-child(2),
  .products-table td:nth-child(2) {
    width: 120px;
    min-width: 120px;
  }

  .products-table th:nth-child(3),
  .products-table td:nth-child(3) {
    width: 100px;
    min-width: 100px;
  }

  .products-table th:nth-child(4),
  .products-table td:nth-child(4) {
    width: 140px;
    min-width: 140px;
  }

  .products-table th:nth-child(5),
  .products-table td:nth-child(5) {
    width: 120px;
    min-width: 120px;
  }

  .products-table th:nth-child(6),
  .products-table td:nth-child(6) {
    width: 140px;
    min-width: 140px;
  }

  .custom-placeholder::placeholder {
    font-size: 11px !important;
  }

  /* Header buttons styling */
  .header-buttons .btn {
    font-size: 16px !important;
    padding: 8px 16px !important;
    font-weight: 500;
  }

  /* Search input styling */
  .search-input {
    font-size: 16px !important;
    padding: 8px 12px !important;
    padding-left: 40px !important;
  }

  /* Quantity update buttons container */
  .qty-update-buttons {
    display: flex;
    flex-direction: column;
    gap: 6px;
    align-items: center;
    justify-content: center;
  }

  .qty-update-buttons .badge {
    min-width: 75px;
    text-align: center;
    font-size: 0.75em;
    padding: 5px 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 4px;
  }

  .qty-update-buttons .badge:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  }

  /* Image column styling */
  .image-column .badge {
    min-width: 85px;
    font-size: 0.75em;
    padding: 6px 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    background-color: #6f42c1 !important;
    color: white !important;
    border: none !important;
    border-radius: 4px;
  }

  .image-column .badge:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(111, 66, 193, 0.3);
    background-color: #5a32a3 !important;
  }

  /* Action buttons styling */
  .action-buttons {
    display: flex;
    flex-direction: column;
    gap: 6px;
    align-items: center;
    justify-content: center;
  }

  .action-buttons .badge {
    min-width: 70px;
    text-align: center;
    font-size: 0.75em;
    padding: 5px 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 4px;
  }

  /* Edit button */
  .action-buttons .badge-edit {
    background-color: #20c997 !important;
    color: white !important;
    border: none !important;
  }

  .action-buttons .badge-edit:hover {
    background-color: #1aa085 !important;
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(32, 201, 151, 0.3);
  }

  /* Delete button */
  .action-buttons .badge-delete {
    background-color: #dc3545 !important;
    color: white !important;
    border: none !important;
  }

  .action-buttons .badge-delete:hover {
    background-color: #c82333 !important;
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(220, 53, 69, 0.3);
  }

  /* Mobile responsive styles */
  @media (max-width: 768px) {
    .table-responsive {
      max-height: 68vh;
    }

    .products-table {
      min-width: 700px; /* Reduced minimum width for mobile */
    }

    .products-table th,
    .products-table td {
      padding: 8px 6px;
      font-size: 13px;
    }

    /* Adjusted mobile column widths */
    .products-table th:nth-child(1),
    .products-table td:nth-child(1) {
      width: 180px;
      min-width: 180px;
      font-size: 12px;
    }

    .products-table th:nth-child(2),
    .products-table td:nth-child(2) {
      width: 100px;
      min-width: 100px;
    }

    .products-table th:nth-child(3),
    .products-table td:nth-child(3) {
      width: 80px;
      min-width: 80px;
    }

    .products-table th:nth-child(4),
    .products-table td:nth-child(4) {
      width: 120px;
      min-width: 120px;
    }

    .mobile-product-card {
  border: 1px solid #dee2e6;
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.mobile-product-card:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

.product-title {
  font-size: 1rem;
  line-height: 1.2;
}

    .products-table th:nth-child(5),
    .products-table td:nth-child(5) {
      width: 100px;
      min-width: 100px;
    }

    .products-table th:nth-child(6),
    .products-table td:nth-child(6) {
      width: 120px;
      min-width: 120px;
    }

    .action-buttons {
      gap: 4px !important;
    }

    .action-buttons .badge {
      font-size: 11px;
      padding: 4px 8px;
      min-width: 60px;
    }

    .qty-update-buttons {
      gap: 4px;
    }

    .qty-update-buttons .badge {
      min-width: 65px;
      font-size: 0.7em;
      padding: 4px 8px;
    }

    .image-column .badge {
      min-width: 70px;
      font-size: 0.7em;
      padding: 5px 10px;
    }

    /* Keep header buttons side by side on mobile */
    .header-buttons {
      flex-direction: row !important;
      gap: 8px !important;
      flex-wrap: nowrap;
      width: 100%;
    }

    .header-buttons .btn {
      flex: 1;
      min-width: 0;
      font-size: 13px !important;
      padding: 6px 8px !important;
      white-space: nowrap;
    }

    .search-input {
      font-size: 14px !important;
      padding: 6px 8px !important;
      padding-left: 35px !important;
    }
  }

  @media (max-width: 576px) {
    .table-responsive {
      max-height: 57vh;
    }

    .products-table {
      min-width: 650px; /* Further reduced for small mobile */
    }

    .products-table th,
    .products-table td {
      padding: 6px 4px;
      font-size: 12px;
    }

    /* Small mobile column widths */
    .products-table th:nth-child(1),
    .products-table td:nth-child(1) {
      width: 160px;
      min-width: 160px;
      font-size: 11px;
    }

    .products-table th:nth-child(2),
    .products-table td:nth-child(2) {
      width: 90px;
      min-width: 90px;
    }

    .products-table th:nth-child(3),
    .products-table td:nth-child(3) {
      width: 70px;
      min-width: 70px;
    }

    .products-table th:nth-child(4),
    .products-table td:nth-child(4) {
      width: 110px;
      min-width: 110px;
    }

    .products-table th:nth-child(5),
    .products-table td:nth-child(5) {
      width: 90px;
      min-width: 90px;
    }

    .products-table th:nth-child(6),
    .products-table td:nth-child(6) {
      width: 110px;
      min-width: 110px;
    }

   

    .image-column .badge {
      min-width: 60px;
      font-size: 0.65em;
      padding: 4px 8px;
    }

    .action-buttons .badge {
      min-width: 50px;
      font-size: 0.65em;
      padding: 3px 6px;
    }

    .header-buttons {
      flex-direction: row !important;
      gap: 6px !important;
      width: 100%;
      flex-wrap: nowrap;
    }

    .header-buttons .btn {
      flex: 1;
      font-size: 11px !important;
      padding: 5px 6px !important;
      white-space: nowrap;
      min-width: 0;
    }

    .search-input {
      margin-bottom: 16px;
      font-size: 12px !important;
      padding: 5px 6px !important;
      padding-left: 30px !important;
    }

    .products-table td div {
      line-height: 1.2 !important;
    }

    .products-table td div div {
      margin-top: 1px !important;
    }
  }

  /* Desktop - horizontal layout for buttons */
  @media (min-width: 769px) {
    .qty-update-buttons {
      flex-direction: row;
      gap: 8px;
      justify-content: center;
    }

    .action-buttons {
      flex-direction: row;
      gap: 8px;
      justify-content: center;
    }
  }

  /* Search input styling */
  .search-container {
    position: relative;
  }

  .search-input {
    padding-left: 40px;
  }

  .search-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #6c757d;
    pointer-events: none;
  }

  .clear-search {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #6c757d;
    cursor: pointer;
    padding: 0;
    font-size: 16px;
  }

  .clear-search:hover {
    color: #dc3545;
  }

  /* Product name styling */
  .product-name {
    font-size: 16px;
    font-weight: 500;
    line-height: 1.3;
  }

  .product-local-name {
    font-size: 14px;
    color: #6c757d;
    margin-top: 2px;
    line-height: 1.2;
  }

  @media (max-width: 768px) {
    .product-name {
      font-size: 14px;
    }

    .product-local-name {
      font-size: 12px;
    }
  }

  @media (max-width: 576px) {
    .product-name {
      font-size: 13px;
    }

    .product-local-name {
      font-size: 11px;
    }
  }

  /* Desktop layout for buttons and search */
  @media (min-width: 769px) {
    .desktop-header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .desktop-header-row .header-buttons {
      flex: 0 0 auto;
    }

    .desktop-header-row .search-container {
      flex: 0 0 300px;
    }
  }

  /* Horizontal scroll indicator */
  .table-responsive::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 20px;
    height: 100%;
    background: linear-gradient(to left, rgba(248, 249, 250, 0.8), transparent);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .table-responsive:hover::after {
    opacity: 1;
  }

  /* Scrollbar styling */
  .table-responsive::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .table-responsive::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
  }

  .table-responsive::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
  }

  .table-responsive::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
  }
`}),e.jsxs("div",{className:"d-none d-md-flex desktop-header-row",children:[e.jsxs("div",{className:"header-buttons d-flex gap-2",children:[e.jsx(S,{color:"primary",onClick:qe,children:a("LABELS.add_new_product")}),e.jsx(S,{color:"success",onClick:De,children:a("LABELS.bulk_upload_products")})]}),e.jsxs("div",{className:"search-container",children:[e.jsx(U,{type:"text",className:"search-input",placeholder:a("LABELS.search_products"),value:y,onChange:t=>xe(t.target.value)}),e.jsx("div",{className:"search-icon",children:"ðŸ”"}),y&&e.jsx("button",{className:"clear-search",onClick:()=>xe(""),title:a("LABELS.clear_search"),children:"âœ•"})]})]}),e.jsxs("div",{className:"d-md-none",children:[e.jsx(ie,{className:"mb-1",children:e.jsx(le,{xs:12,children:e.jsxs("div",{className:"header-buttons d-flex gap-2",children:[e.jsx(S,{color:"primary",onClick:qe,children:a("LABELS.add_new_product")}),e.jsx(S,{color:"success",onClick:De,children:a("LABELS.bulk_upload_products")})]})})}),e.jsx(ie,{className:"mt-2",children:e.jsx(le,{xs:12,children:e.jsxs("div",{className:"search-container",children:[e.jsx(U,{type:"text",className:"search-input",placeholder:a("LABELS.search_products"),value:y,onChange:t=>xe(t.target.value)}),e.jsx("div",{className:"search-icon",children:"ðŸ”"}),y&&e.jsx("button",{className:"clear-search",onClick:()=>xe(""),title:a("LABELS.clear_search"),children:"âœ•"})]})})})]}),y&&e.jsx(ie,{className:"mb-1",children:e.jsx(le,{xs:12,children:e.jsxs("small",{className:"text-muted",children:[H.length," ",a("LABELS.products_found"),' "',y,'"']})})}),e.jsxs(ie,{children:[e.jsx(Xt,{visible:me,setVisible:ae,onYes:Ft,resource:`${a("LABELS.delete_product")} - ${W==null?void 0:W.name}`}),e.jsx(le,{xs:12,children:e.jsxs(Nt,{className:"mb-4",children:[e.jsxs(aa,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("strong",{children:a("LABELS.all_products")}),e.jsxs("small",{className:"text-muted",children:[a("LABELS.total"),": ",H.length," ",a("LABELS.products")]})]}),e.jsx(Lt,{className:"p-0",children:te?e.jsx("div",{className:"p-3",children:H.length===0?e.jsx("div",{className:"text-center text-muted py-4",children:a(y?"LABELS.no_products_found":"LABELS.no_products_available")}):H.map(t=>Ot(t))}):e.jsx("div",{className:"table-responsive",children:e.jsxs(sa,{className:"products-table mb-0",children:[e.jsx(oa,{children:e.jsxs(Le,{children:[e.jsx(X,{scope:"col",children:a("LABELS.product_name")}),e.jsx(X,{scope:"col",children:e.jsxs("span",{style:{whiteSpace:"nowrap"},children:[a("LABELS.selling_price")," â‚¹"]})}),e.jsx(X,{scope:"col",children:a("LABELS.stock")}),e.jsx(X,{scope:"col",children:e.jsx("span",{style:{whiteSpace:"nowrap"},children:a("LABELS.qty_update")})}),e.jsx(X,{scope:"col",children:a("LABELS.images")}),e.jsx(X,{scope:"col",children:a("LABELS.actions")})]})}),e.jsx(ra,{children:H.length===0?e.jsx(Le,{children:e.jsx($,{colSpan:6,className:"text-center py-4 text-muted",children:a(y?"LABELS.no_products_found":"LABELS.no_products_available")})}):H.map((t,o)=>{var r,l,s,n;return e.jsxs(Le,{children:[e.jsx($,{style:{textAlign:"center"},children:e.jsx("div",{style:{wordBreak:"break-word"},children:e.jsx("div",{className:"product-name",children:Q.language==="mr"&&t.localName||t.name})})}),e.jsx($,{children:e.jsx("strong",{children:((l=(r=t.sizes)==null?void 0:r[0])==null?void 0:l.oPrice)||""})}),e.jsx($,{children:e.jsx(ce,{color:(()=>{var g,N,p,b;const c=((N=(g=t.sizes)==null?void 0:g[0])==null?void 0:N.stock)||0,m=((b=(p=t.sizes)==null?void 0:p[0])==null?void 0:b.qty)||1,v=c/m*100;return v<20?"danger":v>=20&&v<=50?"orange":"success"})(),style:{animation:(()=>{var g,N,p,b;const c=((N=(g=t.sizes)==null?void 0:g[0])==null?void 0:N.stock)||0,m=((b=(p=t.sizes)==null?void 0:p[0])==null?void 0:b.qty)||1,v=c/m*100;return v<20?"stockStrobe 1.5s infinite":v>=20&&v<=50?"warningStrobe 2s infinite":"none"})(),backgroundColor:(()=>{var g,N,p,b;const c=((N=(g=t.sizes)==null?void 0:g[0])==null?void 0:N.stock)||0,m=((b=(p=t.sizes)==null?void 0:p[0])==null?void 0:b.qty)||1,v=c/m*100;if(v>=20&&v<=50)return"#ff8c00"})()},children:((n=(s=t.sizes)==null?void 0:s[0])==null?void 0:n.stock)||0})}),e.jsx($,{children:e.jsxs("div",{className:"qty-update-buttons",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-blue btn-sm",onClick:()=>ze(t),style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"80px"},children:["ðŸ”§ ",a("LABELS.update")]}),e.jsxs("button",{type:"button",className:"btn btn-outline-red btn-sm",onClick:()=>Fe(t),style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"80px"},children:["âŒ ",a("LABELS.dead_stock")]})]})}),e.jsx($,{children:Ee()?e.jsxs("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{const c=Ae();ue(c),Y(!0)},style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"80px"},children:["ðŸ”’ ",a("LABELS.upgrade")]}):e.jsxs("button",{type:"button",className:"btn btn-outline-purple btn-sm",onClick:()=>ge(t),style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"80px"},children:["ðŸ–¼ï¸ ",a("LABELS.images")]})}),e.jsx($,{children:e.jsx("div",{className:"action-buttons",children:e.jsxs("button",{type:"button",className:"btn btn-outline-green btn-sm",onClick:()=>Be(t),style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",minWidth:"70px"},children:["âœï¸ ",a("LABELS.edit")]})})})]},t.id)})})]})})})]})})]}),e.jsx(ie,{className:"mt-3 mb-2",children:e.jsx(le,{xs:12,children:e.jsxs("div",{className:"d-flex flex-column flex-lg-row align-items-start align-items-lg-center gap-2",children:[e.jsx("small",{className:"text-muted",children:e.jsxs("strong",{children:[a("LABELS.stock_color_code"),":"]})}),e.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(ce,{color:"danger",style:{fontSize:"0.7em"},children:a("LABELS.stock_less_than_20_percent")}),e.jsx("small",{className:"text-muted",children:a("LABELS.red_stock_label")})]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(ce,{style:{backgroundColor:"#ff8c00",color:"white",fontSize:"0.7em"},children:a("LABELS.stock_between_20_50_percent")}),e.jsx("small",{className:"text-muted",children:a("LABELS.orange_stock_label")})]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(ce,{color:"success",style:{fontSize:"0.7em"},children:a("LABELS.stock_greater_than_50_percent")}),e.jsx("small",{className:"text-muted",children:a("LABELS.green_stock_label")})]})]})]})})}),E.visible&&e.jsx("div",{className:"modal d-block",style:{background:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"modal-title",children:[a("LABELS.images")," - ",(Qe=E.product)==null?void 0:Qe.name]}),e.jsx("button",{className:"btn-close",onClick:()=>oe({visible:!1})})]}),e.jsx("div",{className:"modal-body p-3",children:e.jsxs("div",{className:"position-relative",children:[e.jsxs("div",{className:"d-flex gap-3 overflow-auto pb-3",style:{scrollBehavior:"smooth",scrollSnapType:"x mandatory"},children:[E.media.map((t,o)=>e.jsxs("div",{className:"flex-shrink-0 position-relative",style:{scrollSnapAlign:"start"},children:[e.jsxs("div",{className:"position-relative border rounded overflow-hidden",style:{width:"200px",height:"200px"},children:[e.jsx("img",{src:`/${t.url}`,className:"w-100 h-100 object-fit-cover",style:{cursor:"zoom-in"},onClick:()=>R(`/${t.url}`),alt:a("LABELS.product_image_alt",{number:o+1})}),e.jsx("button",{className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-1 rounded-circle d-flex align-items-center justify-content-center",style:{width:"30px",height:"30px",fontSize:"12px"},onClick:r=>{r.stopPropagation(),zt(t.id)},title:a("LABELS.delete_image"),children:"ðŸ—‘"})]}),e.jsx("div",{className:"text-center mt-2 px-1",style:{maxWidth:"200px"},children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",value:t.description||"",placeholder:a("LABELS.enter_description"),onChange:r=>Ut(o,r.target.value),disabled:M!==o,className:"form-control text-center"}),e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{M===o?($t(t.id,t.description),L(null)):L(o)},children:e.jsx(Zt,{icon:M===o?ca:na})})]})}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs(S,{size:"sm",color:"success",onClick:()=>Ce(t.url),className:"w-100",children:["ðŸ“¤ ",a("LABELS.share")]})})]},o)),E.uploadingImages&&E.uploadingImages.map((t,o)=>e.jsxs("div",{className:"flex-shrink-0 position-relative",style:{scrollSnapAlign:"start"},children:[e.jsxs("div",{className:"position-relative border rounded overflow-hidden d-flex align-items-center justify-content-center bg-light",style:{width:"200px",height:"200px"},children:[e.jsx("img",{src:t.preview,className:"w-100 h-100 object-fit-cover position-absolute",style:{opacity:.5},alt:"Uploading..."}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner-border text-primary mb-2",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("small",{className:"text-muted d-block",children:a("LABELS.uploading")})]})})]}),e.jsx("div",{className:"text-center mt-2 px-1",style:{maxWidth:"200px"},children:e.jsx("small",{className:"text-muted",children:a("LABELS.uploading")})}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs(S,{size:"sm",color:"success",onClick:()=>Ce(img.url),className:"w-100",children:["ðŸ“¤ ",a("LABELS.share")]})})]},`loading-${o}`)),e.jsx("div",{className:"flex-shrink-0 d-flex align-items-center justify-content-center border border-2 border-dashed rounded",style:{width:"200px",height:"200px",cursor:"pointer",scrollSnapAlign:"start",borderColor:"#28a745"},onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.multiple=!0,t.onchange=async o=>{var l;const r=o.target.files;if(r&&r.length>0&&((l=E.product)!=null&&l.id)){const s=Array.from(r).map(c=>({file:c,preview:URL.createObjectURL(c)}));oe(c=>({...c,uploadingImages:s}));const n=new FormData;for(const c of r)n.append("images[]",c);n.append("product_id",E.product.id.toString());try{await Se("/api/product/media/multiple",n),d("success","Images uploaded successfully"),s.forEach(c=>URL.revokeObjectURL(c.preview)),ge(E.product)}catch(c){d("danger","Failed to upload images"),console.error(c),s.forEach(m=>URL.revokeObjectURL(m.preview)),oe(m=>({...m,uploadingImages:null}))}}},t.click()},children:e.jsxs("div",{className:"text-center text-success",children:[e.jsx("div",{style:{fontSize:"2rem"},children:"+"}),e.jsx("small",{children:a("LABELS.add_images")})]})})]}),E.media.length+(((Oe=E.uploadingImages)==null?void 0:Oe.length)||0)>2&&e.jsx("div",{className:"text-center mt-2",children:e.jsx("small",{className:"text-muted",children:a("LABELS.scroll_to_view_more_images",{count:E.media.length+(((Ye=E.uploadingImages)==null?void 0:Ye.length)||0)+1})})})]})})]})})}),x.visible&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[a("LABELS.add_stock")," - ",x.product.name]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>T({visible:!1,product:null,addedQty:0,maxAddable:0})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-6",children:e.jsxs("p",{className:"mb-1",children:[e.jsxs("b",{children:[a("LABELS.total_quantity"),":"]})," ",e.jsx("span",{className:"badge bg-primary",children:((He=(Ve=x.product.sizes)==null?void 0:Ve[0])==null?void 0:He.qty)??0})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("p",{className:"mb-1",children:[e.jsxs("b",{children:[a("LABELS.current_stock"),":"]})," ",e.jsx("span",{className:`badge ${be((Ke=(Je=x.product.sizes)==null?void 0:Je[0])==null?void 0:Ke.stock,(Xe=(Ze=x.product.sizes)==null?void 0:Ze[0])==null?void 0:Xe.qty).color==="danger"?"bg-danger":be((tt=(et=x.product.sizes)==null?void 0:et[0])==null?void 0:tt.stock,(st=(at=x.product.sizes)==null?void 0:at[0])==null?void 0:st.qty).color==="warning"?"bg-warning text-dark":"bg-success"}`,style:{animation:be((rt=(ot=x.product.sizes)==null?void 0:ot[0])==null?void 0:rt.stock,(it=(nt=x.product.sizes)==null?void 0:nt[0])==null?void 0:it.qty).strobe?"stockStrobe 1.5s infinite":"none"},children:((ct=(lt=x.product.sizes)==null?void 0:lt[0])==null?void 0:ct.stock)??0})]})})]}),e.jsx("div",{className:"alert alert-info",children:e.jsxs("small",{children:[e.jsxs("strong",{children:[a("LABELS.stock_percentage"),":"]})," ",be((mt=(dt=x.product.sizes)==null?void 0:dt[0])==null?void 0:mt.stock,(ut=(pt=x.product.sizes)==null?void 0:pt[0])==null?void 0:ut.qty).percentage,"% ",a("LABELS.of_total_quantity")]})}),x.maxAddable>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",children:[e.jsxs("b",{children:[a("LABELS.stock_to_add"),":"]}),e.jsxs("small",{className:"text-muted ms-2",children:["(",a("LABELS.max"),": ",x.maxAddable,")"]})]}),e.jsx("input",{type:"number",min:"1",max:x.maxAddable,onWheel:t=>t.target.blur(),className:"form-control custom-placeholder",placeholder:`${a("LABELS.enter_stock_to_add")} (${a("LABELS.max")}: ${x.maxAddable})`,value:x.addedQty,onChange:Qt})]}),e.jsx("div",{className:"alert alert-success",children:e.jsxs("small",{children:[e.jsxs("strong",{children:[a("LABELS.after_adding"),":"]})," ",a("LABELS.stock_will_be")," "," ",(((xt=(ht=x.product.sizes)==null?void 0:ht[0])==null?void 0:xt.stock)||0)+(parseInt(x.addedQty)||0)," / ",((bt=(gt=x.product.sizes)==null?void 0:gt[0])==null?void 0:bt.qty)||0]})})]}):e.jsxs("div",{className:"alert alert-warning",children:[e.jsxs("strong",{children:[a("LABELS.stock_is_full"),"!"]})," ",a("LABELS.stock_full_message")]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx(S,{color:"secondary",onClick:()=>T({visible:!1,product:null,addedQty:0,maxAddable:0}),children:a("LABELS.cancel")}),e.jsx(S,{color:"primary",onClick:Dt,disabled:!x.addedQty||parseInt(x.addedQty)<1||x.maxAddable<=0,children:a("LABELS.add_stock")})]})]})})}),h.visible&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[a("LABELS.dead_stock")," - ",h.product.name]}),e.jsx("button",{className:"btn-close",onClick:()=>P({...h,visible:!1})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("strong",{children:[a("LABELS.available_stock"),":"]})," ",((yt=(ft=h.product.sizes)==null?void 0:ft[0])==null?void 0:yt.stock)||0]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:e.jsx("strong",{children:a("LABELS.dead_stock_qty")})}),e.jsx("input",{type:"number",className:"form-control",min:"1",max:((vt=(jt=h.product.sizes)==null?void 0:jt[0])==null?void 0:vt.stock)||0,value:h.qty,onChange:t=>{var l,s;const o=((s=(l=h.product.sizes)==null?void 0:l[0])==null?void 0:s.stock)||0;let r=parseInt(t.target.value)||0;r<1&&(r=1),r>o&&(r=o),P({...h,qty:r})}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:e.jsx("strong",{children:a("LABELS.price")})}),e.jsx("input",{type:"number",className:"form-control",min:"0",value:h.price,onChange:t=>P({...h,price:parseFloat(t.target.value)||""})})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("strong",{children:[a("LABELS.total_value"),":"," ","â‚¹ ",(h.qty*h.price).toFixed(2)]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx(S,{color:"secondary",onClick:()=>P({...h,visible:!1}),children:a("LABELS.cancel")}),e.jsx(S,{color:"danger",onClick:()=>P({...h,showConfirmation:!0}),disabled:!h.qty||h.qty<1||h.qty>(((St=(wt=h.product.sizes)==null?void 0:wt[0])==null?void 0:St.stock)||0),children:a("LABELS.confirm_dead_stock")})]})]})})}),h.showConfirmation&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.7)",zIndex:1060},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered modal-sm",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsxs("h5",{className:"modal-title text-danger",children:[e.jsx("i",{className:"fa fa-exclamation-triangle me-2"}),a("LABELS.confirm_dead_stock")]})}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"bg-light p-3 rounded mb-3",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-5",children:e.jsxs("strong",{children:[a("LABELS.product"),":"]})}),e.jsx("div",{className:"col-7",children:h.product.name})]}),e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-5",children:e.jsxs("strong",{children:[a("LABELS.quantity"),":"]})}),e.jsx("div",{className:"col-7",children:h.qty})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-5",children:e.jsxs("strong",{children:[a("LABELS.total_value"),":"]})}),e.jsx("div",{className:"col-7 text-danger",children:e.jsxs("strong",{children:["â‚¹ ",(h.qty*h.price).toFixed(2)]})})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx(S,{color:"secondary",onClick:()=>P({...h,showConfirmation:!1}),children:a("LABELS.cancel")}),e.jsxs(S,{color:"danger",onClick:()=>{P({...h,showConfirmation:!1}),qt()},children:[e.jsx("i",{className:"fa fa-trash me-1"}),a("LABELS.confirm")]})]})]})})}),A&&e.jsx("div",{className:"modal d-block",style:{background:"rgba(0,0,0,0.8)"},onClick:()=>R(null),children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsx("img",{src:A,className:"img-fluid rounded",style:{maxHeight:"90vh"}})})}),u.visible&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",style:{margin:"0.5rem auto",maxWidth:"min(600px, calc(100vw - 1rem))",width:"100%"},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:a("LABELS.create_new_product")}),e.jsx("button",{type:"button",className:"btn-close",onClick:we})]}),e.jsx("div",{className:"modal-body",children:e.jsxs(ia,{className:"needs-validation",noValidate:!0,onSubmit:Tt,children:[e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-12 col-sm-6 mb-3 mb-sm-0",children:[e.jsx(ee,{htmlFor:"pname",children:e.jsx("b",{children:a("LABELS.product_name")})}),e.jsx(U,{type:"text",id:"pname",placeholder:a("LABELS.product_name"),name:"name",value:u.formData.name,onChange:re,required:!0,feedbackInvalid:a("LABELS.please_provide_name"),feedbackValid:a("LABELS.looks_good")}),e.jsx("div",{className:"invalid-feedback",children:a("LABELS.product_name_required")})]}),e.jsxs("div",{className:"col-12 col-sm-6",children:[e.jsx(ee,{htmlFor:"plname",children:e.jsx("b",{children:a("LABELS.local_name")})}),e.jsx(U,{type:"text",id:"plname",placeholder:a("LABELS.local_name"),name:"localName",value:u.formData.localName,onChange:re}),e.jsx("div",{className:"invalid-feedback",children:a("LABELS.local_name_required")})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-12 col-sm-4 mb-3 mb-sm-0",children:[e.jsx(ee,{htmlFor:"qty",children:e.jsx("b",{children:a("LABELS.capacity")})}),e.jsx(U,{type:"number",id:"qty",placeholder:"0",min:"0",onWheel:t=>t.target.blur(),name:"qty",value:u.formData.qty,onChange:re,required:!0}),e.jsx("div",{className:"invalid-feedback",children:a("LABELS.quantity_required")})]}),e.jsxs("div",{className:"col-12 col-sm-4 mb-3 mb-sm-0",children:[e.jsx(ee,{htmlFor:"stock",children:e.jsx("b",{children:a("LABELS.initial_stock")})}),e.jsx(U,{type:"number",id:"stock",placeholder:"0",min:"0",onWheel:t=>t.target.blur(),max:u.formData.qty||void 0,name:"stock",value:u.formData.stock,onChange:re,required:!0}),e.jsx("div",{className:"invalid-feedback",children:a("LABELS.initial_stock_required")}),u.formData.qty&&u.formData.stock>u.formData.qty&&e.jsxs("div",{className:"text-danger small mt-1",children:["Stock cannot exceed capacity (",u.formData.qty,")"]})]}),e.jsxs("div",{className:"col-12 col-md-4",children:[e.jsx(ee,{htmlFor:"oPrice",children:e.jsx("b",{children:a("LABELS.selling_price")})}),e.jsx(U,{type:"text",id:"oPrice",placeholder:"0.00",name:"oPrice",onWheel:t=>t.target.blur(),value:u.formData.oPrice,onChange:re,onBlur:t=>{const o=t.target.value;if(o&&!isNaN(parseFloat(o))){const r=parseFloat(o).toFixed(2);C(l=>({...l,formData:{...l.formData,oPrice:r}}))}},pattern:"^\\d*\\.?\\d{0,2}$",title:"Please enter a valid price (up to 2 decimal places)",required:!0}),e.jsx("div",{className:"invalid-feedback",children:a("LABELS.selling_price_required")})]})]}),(kt()||At())&&e.jsxs("div",{className:"mb-3",children:[e.jsx(ee,{children:e.jsx("b",{children:a("LABELS.add_image")})}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",onChange:t=>{C(o=>({...o,images:[...t.target.files]}))}})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-12",children:e.jsx(la,{id:"show",label:a("LABELS.show_for_invoicing"),name:"show",checked:u.formData.show,onChange:Mt})})}),e.jsxs("div",{className:"modal-footer d-flex gap-2",children:[e.jsx(S,{color:"secondary",onClick:we,className:"flex-fill flex-sm-grow-0",children:a("LABELS.cancel")}),e.jsx(S,{color:"success",type:"submit",className:"flex-fill flex-sm-grow-0",disabled:u.formData.stock>u.formData.qty||!u.formData.name||!u.formData.qty||!u.formData.oPrice,children:a("LABELS.create_product")})]})]})})]})})}),he&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.6)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:a("LABELS.available_plans")}),e.jsx("button",{className:"btn-close",onClick:()=>Y(!1)})]}),e.jsx("div",{className:"modal-body",children:pe.length===0?e.jsx("p",{children:a("MESSAGES.no_upgrade_plans_found")}):pe.map(t=>e.jsxs("div",{className:"border p-3 mb-2 d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:e.jsx("h6",{children:t.name})}),e.jsx(S,{color:"primary",onClick:()=>Bt(t),children:a("BUTTONS.upgrade")})]},t.id))})]})})}),ve&&i&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title text-primary",children:a("LABELS.confirm_upgrade")}),e.jsx("button",{className:"btn-close",onClick:()=>_(!1)})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[a("LABELS.current_plan"),":"]})," ",i.current_plan??a("LABELS.not_available")," ( â‚¹",parseFloat(i.current_plan_price||0).toFixed(2),")"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("LABELS.new_plan"),":"]})," ",i.new_plan??a("LABELS.not_available")," ( â‚¹",parseFloat(i.new_plan_price||0).toFixed(2),")"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("LABELS.remaining_days"),":"]})," ",i.remaining_days??0]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("LABELS.unused_value"),":"]})," ","â‚¹",parseFloat(i.unused_value||0).toFixed(2)]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[a("LABELS.payable_amount"),":"]})," ",e.jsxs("strong",{className:"text-success",children:["â‚¹",parseFloat(i.payable_amount||0).toFixed(2)]})]}),e.jsxs(S,{color:"success",onClick:()=>It(se,i.payable_amount),disabled:!se,children:[a("BUTTONS.confirm_and_pay")," â‚¹",parseFloat(i.payable_amount||0).toFixed(2)]})]})]})})}),z.visible&&e.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:a("LABELS.upload_product_csv")}),e.jsx("button",{type:"button",className:"btn-close",onClick:Me})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"mb-3 d-flex align-items-center",children:[e.jsx("strong",{className:"me-2",children:a("LABELS.sample_csv_template")}),e.jsxs(S,{color:"success",variant:"outline",size:"sm",title:a("LABELS.download_sample_template"),onClick:Gt,children:["ðŸ“¥ ",a("LABELS.download")]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"csvFile",className:"form-label",children:e.jsx("strong",{children:a("LABELS.select_csv_file")})}),e.jsx("input",{type:"file",id:"csvFile",className:"form-control",accept:".csv",onChange:Wt})]}),z.message&&e.jsx("div",{className:`alert ${z.isError?"alert-danger":"alert-success"}`,role:"alert",children:z.message})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx(S,{color:"secondary",onClick:Me,children:a("LABELS.cancel")}),e.jsx(S,{color:"success",onClick:Rt,disabled:z.isUploading||!z.csvFile,children:z.isUploading?a("LABELS.uploading"):a("LABELS.upload_csv")})]})]})})})]})};export{Da as default};
