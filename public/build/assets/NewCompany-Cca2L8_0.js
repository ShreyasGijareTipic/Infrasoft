import{b as Ne,r as m,j as e}from"./index-2HJ-j-Kr.js";import{g as De,a as se,p as v,r as re,c as Q}from"./api-CIBCEetx.js";import{g as oe}from"./companyPdf-BOBDlaoH.js";import{u as Pe,a as Fe,b as Le,c as Ae,d as ke,e as Re}from"./DefaultLayout-CyVOLzSQ.js";import{a as Ee,b as Me}from"./index.esm-DegARfP0.js";import{C as Ie,a as Te}from"./CCardBody-B36NFFEm.js";import{C as Be}from"./CCardHeader-Cm87llrc.js";import{C as We}from"./CForm-DYbbRBNz.js";import{C as i}from"./CFormLabel-DMp8BC0Y.js";import{C as p}from"./CFormInput-DYM7ipjm.js";import{C as D}from"./CFormSelect-CwUomMrr.js";import{C as Oe}from"./cil-mobile-B5UOp7tH.js";import{C as P}from"./CButton-ChW-yoOE.js";import"./jspdf.es.min-UyVKh0wM.js";import"./typeof-QjJsDpFa.js";import"./jspdf.plugin.autotable-CwP2yIMN.js";import"./jspdf.es.min-Fk_hPh8Q.js";import"./TipicConsultech-B6_BeNSe.js";import"./RawMaterial-BtjEDAbB.js";import"./CFormControlWrapper-BOjiYF1h.js";function ca(){const $=new Date,{showToast:o}=Ne(),H=De(),F=1,I=new Date($);I.setMonth(I.getMonth()+F);const Y=H.type,L=H.id,[qe,T]=m.useState(null),[ie,x]=m.useState(!1),[S,V]=m.useState(null),[le,ce]=m.useState([]),[de,me]=m.useState(!1);m.useEffect(()=>{const a=()=>{const n=navigator.userAgent,t=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),r=window.innerWidth<=768;me(t||r)};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]);const[s,y]=m.useState({companyName:"",companyId:"",land_mark:"",Tal:"",Dist:"",Pincode:"",phone_no:"",email_id:"",bank_name:"",account_no:"",IFSC:"",gst_number:"",pan_number:"",logo:"",sign:"",paymentQRCode:"",appMode:"advance",payment_mode:"online",subscribed_plan:1,duration:F,subscription_validity:I.toISOString().split("T")[0],refer_by_id:L,user_name:"Shop Owner",password:"",confirm_password:"",initials:""}),{t:l}=Pe("global"),[w,pe]=m.useState(""),[f,ue]=m.useState({plans:[],users:[]}),[C,Ue]=m.useState({phone_no:"",email_id:""}),[A,he]=m.useState(!1),[k,ye]=m.useState(!1),B=a=>Math.round(a*5)/5,fe=a=>{var t;const n=((t=f.plans.find(r=>r.id==a))==null?void 0:t.price)||0;return B(n)},R=()=>{const a=new Date(s.subscription_validity),n=new Date,t=a.getFullYear()-n.getFullYear(),r=a.getMonth()-n.getMonth();let c=t*12+r;return a.getDate()<n.getDate()&&c--,Math.max(c,1)},j=()=>{var r;const a=((r=f.plans.find(c=>c.id==s.subscribed_plan))==null?void 0:r.price)||0,n=R(),t=a*n;return B(t)},E=()=>{const a=j()*.18;return B(a)},ge=a=>{const{value:n}=a.target;a.preventDefault(),a.stopPropagation();const t=new Date,r=parseInt(n);t.setMonth(t.getMonth()+r);const c=t.toISOString().split("T")[0];y({...s,duration:parseInt(n),subscription_validity:c})};m.useEffect(()=>{(async()=>{try{const n=await se("/api/detailsForCompany"),t=await se("/api/partnersCompany");ue(n||{plans:[],users:[]}),ce(t||[])}catch(n){console.error("Error fetching reference data:",n),o("danger","Failed to load reference data")}})()},[]),m.useEffect(()=>{if(!window.Razorpay){const a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.onload=()=>console.log("Razorpay script loaded"),document.body.appendChild(a)}},[]);const G=async()=>{try{let a={...s,logo:"invoice/jalseva.jpg",sign:"invoice/empty.png",paymentQRCode:"invoice/empty.png"};if(s.logo&&typeof s.logo=="object"){const n=new FormData;n.append("file",s.logo),n.append("dest","invoice");const t=await Q("/api/fileUpload",n),r=t==null?void 0:t.fileName;r&&(a.logo=r)}if(s.sign&&typeof s.sign=="object"){const n=new FormData;n.append("file",s.sign),n.append("dest","invoice");const t=await Q("/api/fileUpload",n),r=t==null?void 0:t.fileName;r&&(a.sign=r)}if(s.paymentQRCode&&typeof s.paymentQRCode=="object"){const n=new FormData;n.append("file",s.paymentQRCode),n.append("dest","invoice");const t=await Q("/api/fileUpload",n),r=t==null?void 0:t.fileName;r&&(a.paymentQRCode=r)}return a}catch(a){return o("danger","Error uploading files: "+a.message),console.error("Error uploading files:",a),null}};m.useEffect(()=>{if(!w)return;const a=f.plans.find(n=>{var r;return(((r=n.name)==null?void 0:r.toLowerCase())||"").startsWith(w.toLowerCase())});if(a){const n=a.name.toLowerCase();let t=1;n.startsWith("annually")||n.startsWith("yearly")?t=12:n.startsWith("half-yearly")?t=6:n.startsWith("quarterly")?t=3:(n.startsWith("monthly")||n.startsWith("free trial"))&&(t=1);const r=new Date,c=new Date(r);c.setMonth(c.getMonth()+t),y(u=>({...u,subscribed_plan:a.id,duration:t,subscription_validity:c.toISOString().split("T")[0]}))}else y(n=>({...n,subscribed_plan:"",duration:1,subscription_validity:""}))},[w,f.plans]);const _e=async()=>{var a;try{const n=await G();if(!n){o("danger","Failed to prepare form data");return}T(n);try{await v("/api/company/check-duplicate",{email_id:n.email_id,phone_no:n.phone_no})}catch{o("danger","Email id or Mobile number is already taken");return}const t=await v("/api/company",n);if((a=t==null?void 0:t.details)!=null&&a.company_id){o("success","Company Registration Successful!");const r={name:s.user_name||"Shop Owner",email:n.email_id,mobile:n.phone_no,password:s.password,password_confirmation:s.confirm_password,type:"1",company_id:t.details.company_id};try{await re(r)?o("success","Default user created successfully."):o("danger","Company created but failed to create default user.")}catch(_){console.error("Error creating user:",_),o("danger","Company created but error while creating user.")}const c=f.plans.find(_=>_.id==n.subscribed_plan),u=new Date().toISOString().split("T")[0],N=R(),U=(c==null?void 0:c.price)||0,ee=N>0?U/N:0,g={company_id:t.details.company_id,plan_id:n.subscribed_plan,user_id:L,total_amount:j(),start_date:u,valid_till:n.subscription_validity,transaction_id:s.payment_mode==="cash"?"CASH_PAYMENT":"FREE_PLAN",transaction_status:s.payment_mode==="cash"?"cash_received":"success",payment_mode:s.payment_mode,renewal_type:"new_registration",plan:c,company:{company_name:n.companyName,phone_no:n.phone_no,email_id:n.email_id}};try{await v("/api/company-receipt",g)}catch(_){console.error("Receipt API error:",_)}V(g),x(!0),X()}else o("danger","Company registration failed.")}catch(n){console.error("Registration error:",n),o("danger","Company registration failed: "+n.message)}},be=async()=>{try{const a=await G();if(!a){o("danger","Failed to prepare form data");return}T(a);try{await v("/api/company/check-duplicate",{email_id:a.email_id,phone_no:a.phone_no})}catch{o("danger","Email id or Mobile number is already taken");return}const n=f.plans.find(h=>h.id==a.subscribed_plan),t=j(),r=t-E(),c=E(),u=new Date().toISOString().split("T")[0],N=R(),U=(n==null?void 0:n.price)||0,ee=N>0?U/N:0,g=await v("/api/create-order",{amount:t});if(!g){o("danger","Technical issue: Could not create payment order");return}const _={key:g.key,amount:g.order.amount,currency:g.order.currency,order_id:g.order.id,name:"Nursery Seva",handler:async h=>{var ne;const z=await v("/api/verify-payment",{razorpay_order_id:h.razorpay_order_id,razorpay_payment_id:h.razorpay_payment_id,razorpay_signature:h.razorpay_signature});if(z!=null&&z.success)try{const b=await v("/api/company",a);if((ne=b==null?void 0:b.details)!=null&&ne.company_id){o("success","Company Registration Successful!");const Se={name:s.user_name||"Shop Owner",email:a.email_id,mobile:a.phone_no,password:s.password,password_confirmation:s.confirm_password,type:"1",company_id:b.details.company_id};try{await re(Se)?o("success","Default user created successfully."):o("danger","Company created but failed to create default user.")}catch(M){console.error("User creation error:",M),o("danger","Company created but error while creating user.")}const te={company_id:b.details.company_id,plan_id:a.subscribed_plan,user_id:L,total_amount:t,start_date:u,price:ee,valid_till:a.subscription_validity,transaction_id:h.razorpay_payment_id,transaction_status:"success",payment_mode:"online",renewal_type:"new_registration",plan:n,company:{company_name:a.companyName,phone_no:a.phone_no,email_id:a.email_id}};try{await v("/api/company-receipt",te)}catch(M){console.error("Receipt save error:",M)}V(te),x(!0),X()}else o("danger","Payment succeeded but company registration failed.")}catch(b){console.error("Company registration error:",b),o("danger","Payment was successful but company registration failed: "+b.message)}else o("info","Payment verification failed")},prefill:{name:a.companyName,email:a.email_id,contact:a.phone_no},theme:{color:"#3399cc"}},ae=new window.Razorpay(_);ae.open(),ae.on("payment.failed",h=>{console.error("Payment Failed:",h.error),o("danger","Payment failed. Company registration canceled.")})}catch(a){console.error("Payment process error:",a),o("danger","Something went wrong with payment: "+a.message)}};m.useEffect(()=>{if(!s.duration)return;const a=new Date,n=new Date(a);n.setMonth(n.getMonth()+parseInt(s.duration));const t=n.toISOString().split("T")[0];y(r=>({...r,subscription_validity:t}))},[s.duration]);const W=m.useRef(null),O=m.useRef(null),q=m.useRef(null),[ve,Z]=m.useState(!1),xe=()=>{var t;const a=f.plans.find(r=>r.id==s.subscribed_plan),n=((t=a==null?void 0:a.name)==null?void 0:t.toLowerCase())||"";return n.includes("free trial")?[{label:"1 Month",value:1}]:n.includes("monthly")?[{label:"1 Month",value:1}]:n.includes("quarterly")?[{label:"3 Months",value:3}]:n.includes("half-yearly")?[{label:"6 Months",value:6}]:n.includes("annually")||n.includes("yearly")?[{label:"12 Months",value:12}]:[{label:"1 Month",value:1},{label:"3 Months",value:3},{label:"6 Months",value:6},{label:"12 Months",value:12}]},je=async()=>{try{if(!S){o("danger","Receipt data not available");return}const a=await J(S);if(!a)throw new Error("Failed to generate PDF blob");const n=new File([a],`Company-Receipt-${s.companyName.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`,{type:"application/pdf"});if(navigator.share&&navigator.canShare&&navigator.canShare({files:[n]}))try{await navigator.share({title:`Company Registration Receipt - ${s.companyName}`,text:`Company registration completed successfully for ${s.companyName}!`,files:[n]}),o("success","Receipt shared successfully");return}catch(t){console.log("Native share failed, falling back to manual method:",t)}K(n)}catch(a){console.error("Error in handleShareWhatsApp:",a),o("danger","Failed to share receipt: "+a.message)}},K=a=>{try{const n=URL.createObjectURL(a),t=document.createElement("a");t.href=n,t.download=a.name,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n);const c=`https://web.whatsapp.com/send?text=${encodeURIComponent(`Hello! Company registration for ${s.companyName} is completed successfully. Please find the receipt PDF attached.`)}`,u=window.open(c,"_blank","width=800,height=600");o("info","PDF downloaded! WhatsApp Web opened - select a contact and attach the downloaded PDF file."),setTimeout(()=>{u&&!u.closed&&o("info",'Instructions: 1) Select contact in WhatsApp 2) Click attachment icon 3) Choose "Document" 4) Select the downloaded PDF file')},3e3)}catch(n){console.error("Error in fallbackToWhatsAppWithContactSelector:",n),o("danger","Failed to open WhatsApp: "+n.message)}},we=async()=>{try{if(!S){o("danger","Receipt data not available");return}const a=await J(S);if(!a)throw new Error("Failed to generate PDF blob");const n=new File([a],`Company-Receipt-${s.companyName.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`,{type:"application/pdf"});if(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){if(navigator.share)try{await navigator.share({title:`Company Registration Receipt - ${s.companyName}`,text:`Company registration completed successfully for ${s.companyName}!`,files:[n]}),o("success","Receipt shared successfully");return}catch(u){console.log("Mobile share failed:",u)}const t=encodeURIComponent(`Company registration for ${s.companyName} completed successfully! Receipt attached.`),r=URL.createObjectURL(n),c=document.createElement("a");c.href=r,c.download=n.name,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(r),window.location.href=`whatsapp://send?text=${t}`,o("info","PDF downloaded! WhatsApp opened - select contact and attach the PDF.")}else K(n)}catch(a){console.error("Error in handleShareWhatsAppMobile:",a),o("danger","Failed to share receipt: "+a.message)}},J=async a=>new Promise((n,t)=>{try{oe(a,"blob",r=>{r?n(r):t(new Error("Failed to generate PDF blob"))})}catch(r){t(r)}}),d=a=>{const{name:n,value:t,files:r}=a.target;r&&r.length>0?y({...s,[n]:r[0]}):y({...s,[n]:t})},X=()=>{const a=new Date($);a.setMonth(a.getMonth()+F),y({companyName:"",companyId:"",land_mark:"",Tal:"",Dist:"",Pincode:"",phone_no:"",email_id:"",bank_name:"",account_no:"",IFSC:"",gst_number:"",pan_number:"",logo:"",sign:"",paymentQRCode:"",appMode:"advance",subscribed_plan:1,duration:F,subscription_validity:a.toISOString().split("T")[0],refer_by_id:L,user_name:"Shop Owner",password:"",confirm_password:""}),W.current&&(W.current.value=""),O.current&&(O.current.value=""),q.current&&(q.current.value=""),T(null),Z(!1)},Ce=async a=>{const n=a.currentTarget;if(a.preventDefault(),a.stopPropagation(),Z(!0),n.checkValidity()!==!0){o("danger","Kindly provide data of all required fields");return}if(!s.user_name||!s.password||!s.confirm_password){o("danger","Please fill all user fields.");return}if(s.password!==s.confirm_password){o("danger","Passwords do not match.");return}j()===0||s.payment_mode==="cash"?_e():be()};return e.jsxs(Ee,{children:[e.jsx(Me,{xs:12,children:e.jsxs(Ie,{className:"mb-3",children:[e.jsx(Be,{children:e.jsx("strong",{children:l("LABELS.new_shop")})}),e.jsx(Te,{children:e.jsxs(We,{noValidate:!0,validated:ve,onSubmit:Ce,encType:"multipart/form-data",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"land_mark",children:l("LABELS.company_name")}),e.jsx(p,{type:"text",name:"companyName",id:"companyName",maxLength:"100",value:s.companyName,onChange:d,feedbackInvalid:"Please provide valid data.",required:!0})]})}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"land_mark",children:l("LABELS.address_label")}),e.jsx(p,{type:"text",name:"land_mark",id:"land_mark",maxLength:"100",value:s.land_mark,onChange:d,feedbackInvalid:"Please provide shop address.",required:!0})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"Tal",children:l("LABELS.taluka")||"Taluka"}),e.jsx(p,{type:"text",name:"Tal",id:"Tal",maxLength:"50",value:s.Tal,onChange:d,feedbackInvalid:"Please provide taluka.",required:!0})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"Dist",children:l("LABELS.district")||"District"}),e.jsx(p,{type:"text",name:"Dist",id:"Dist",maxLength:"50",value:s.Dist,onChange:d,feedbackInvalid:"Please provide district.",required:!0})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"Pincode",children:l("LABELS.pincode")||"Pincode"}),e.jsx(p,{type:"text",name:"Pincode",id:"Pincode",maxLength:"6",minLength:"6",pattern:"[0-9]{6}",value:s.Pincode,onChange:d,feedbackInvalid:"Please provide valid 6-digit pincode.",required:!0})]})})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"phone_no",children:l("LABELS.mobile_number")}),e.jsx(p,{type:"text",name:"phone_no",id:"phone_no",value:s.phone_no,onChange:d,invalid:!!C.phone_no,feedbackInvalid:C.phone_no!=""?C.phone_no:"Please provide valid 10 digit mobile.",pattern:"\\d{10}",required:!0,minLength:10,maxLength:10})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"email_id",children:l("LABELS.email")}),e.jsx(p,{type:"email",name:"email_id",id:"email_id",invalid:!!C.email_id,value:s.email_id,onChange:d,feedbackInvalid:C.email_id!=""?C.email_id:"Please provide email address.",required:!0})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"initials",children:l("LABELS.initials")||"Initials"}),e.jsx(p,{type:"text",name:"initials",id:"initials",maxLength:"10",value:s.initials,onChange:d})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"bank_name",children:l("LABELS.bank_name")}),e.jsx(p,{type:"text",name:"bank_name",id:"bank_name",value:s.bank_name,onChange:d})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"account_no",children:l("LABELS.account_number")}),e.jsx(p,{type:"number",name:"account_no",id:"account_no",value:s.account_no,onChange:d})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"IFSC",children:l("LABELS.IFSC")}),e.jsx(p,{type:"text",name:"IFSC",id:"IFSC",value:s.IFSC,onChange:d})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"gst_number",children:l("LABELS.gst_number")}),e.jsx(p,{type:"text",name:"gst_number",id:"gst_number",value:s.gst_number,onChange:d})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"pan_number",children:l("LABELS.pan_number")}),e.jsx(p,{type:"text",name:"pan_number",id:"pan_number",value:s.pan_number,onChange:d})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"logo",children:l("LABELS.logo")}),e.jsx(p,{type:"file",name:"logo",id:"logo",accept:"image/png/jpeg",onChange:d,ref:W})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"sign",children:l("LABELS.sign")}),e.jsx(p,{type:"file",name:"sign",id:"sign",accept:"image/png/jpeg",onChange:d,ref:O})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"paymentQRCode",children:l("LABELS.qr_img")}),e.jsx(p,{type:"file",name:"paymentQRCode",id:"paymentQRCode",accept:"image/png/jpeg",onChange:d,ref:q})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"payment_mode",children:l("LABELS.payment_mode")||"Payment Mode"}),e.jsxs(D,{id:"payment_mode",name:"payment_mode",value:s.payment_mode,onChange:d,required:!0,children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"cash",children:"Cash"})]})]})}),e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"billing_type",children:"Billing Type"}),e.jsxs(D,{id:"billing_type",name:"billing_type",value:w,onChange:a=>{pe(a.target.value),y(n=>({...n,subscribed_plan:""}))},children:[e.jsx("option",{value:"",children:"-- Free Trial --"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"half-yearly",children:"Half-Yearly"}),e.jsx("option",{value:"annually",children:"Annually"})]})]})}),e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"subscribed_plan",children:l("LABELS.plan")}),e.jsx(D,{"aria-label":"Select Plan",value:s.subscribed_plan,id:"subscribed_plan",name:"subscribed_plan",onChange:d,required:!0,feedbackInvalid:"Select a plan.",options:f.plans.filter(a=>{var t;const n=((t=a.name)==null?void 0:t.toLowerCase())||"";return w?n.includes(w.toLowerCase()):n.includes("free trial")}).map(a=>({value:a.id,label:a.name}))})]})}),(Y==0||Y==3)&&e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"refer_by_id",children:l("LABELS.partner")}),e.jsxs(D,{"aria-label":"Select Partner",value:s.refer_by_id,id:"refer_by_id",name:"refer_by_id",onChange:d,required:!0,feedbackInvalid:"Select an application mode.",children:[e.jsx("option",{value:"",children:"-- Select Partner --"}),le.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]})}),e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"duration",children:l("LABELS.plan_duration")}),e.jsx(D,{"aria-label":"Select duration",id:"duration",name:"duration",value:s.duration,options:xe(),onChange:ge,required:!0,feedbackInvalid:"Select duration."})]})}),e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"subscription_validity",children:l("LABELS.validity")}),e.jsx(p,{type:"date",id:"subscription_validity",name:"subscription_validity",value:s.subscription_validity,onChange:d,required:!0,readOnly:!0})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-12",children:e.jsx("h5",{className:"mt-3 mb-2",children:"User Creation"})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{htmlFor:"user_name",children:"User Name"}),e.jsx(p,{type:"text",name:"user_name",id:"user_name",value:s.user_name,onChange:d,required:!0,feedbackInvalid:"Please enter user name."})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3 position-relative",children:[e.jsx(i,{htmlFor:"password",children:"Password"}),e.jsx(p,{type:A?"text":"password",name:"password",id:"password",value:s.password,onChange:d,required:!0,feedbackInvalid:"Please enter password."}),e.jsx("span",{style:{position:"absolute",top:"38px",right:"10px",cursor:"pointer",fontSize:"1.2rem"},title:A?"Hide Password":"Show Password",onClick:()=>he(!A),children:A?"ðŸ”’":"ðŸ‘ï¸"})]})}),e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"mb-3 position-relative",children:[e.jsx(i,{htmlFor:"confirm_password",children:"Confirm Password"}),e.jsx(p,{type:k?"text":"password",name:"confirm_password",id:"confirm_password",value:s.confirm_password,onChange:d,required:!0,feedbackInvalid:"Please confirm password."}),e.jsx("span",{style:{position:"absolute",top:"38px",right:"10px",cursor:"pointer",fontSize:"1.2rem"},title:k?"Hide Password":"Show Password",onClick:()=>ye(!k),children:k?"ðŸ”’":"ðŸ‘ï¸"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-12",children:e.jsxs(Oe,{color:"success",children:[e.jsx("h4",{children:"Payment Details"}),"Amount (Per Month): ",fe(s.subscribed_plan),e.jsx("br",{}),"Number of months: ",R(),e.jsx("br",{}),"Total Amount: ",j()-E(),e.jsx("br",{}),"GST (18%): ",E(),e.jsx("br",{}),e.jsx("b",{children:"Final Payable Amount:"})," ",j()]})})}),e.jsx(P,{type:"submit",color:"primary",children:j()===0?l("LABELS.submit")||"Submit":l("LABELS.submit_pay")})]})})]})}),e.jsxs(Fe,{visible:ie,onClose:()=>x(!1),children:[e.jsx(Le,{children:e.jsx(Ae,{children:"Company Registered Successfully!"})}),e.jsxs(ke,{children:[e.jsxs("p",{children:["Your company ",e.jsx("strong",{children:s.companyName})," has been registered successfully."]}),e.jsx("p",{children:"Choose how you'd like to save and share the receipt:"})]}),e.jsxs(Re,{children:[e.jsx(P,{color:"secondary",onClick:()=>x(!1),children:"Close"}),e.jsx(P,{color:"success",onClick:()=>{oe(S),x(!1)},children:"Save PDF Only"}),de?e.jsx(P,{color:"primary",onClick:()=>{we(),x(!1)},children:"Share on WhatsApp"}):e.jsx(P,{color:"primary",onClick:()=>{je(),x(!1)},children:"Share via WhatsApp Web"})]})]})]})}export{ca as default};
